
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="linked-list-reversal-example.html">
      
      
        <link rel="next" href="../exercises/flowchart-to-html-worksheet.html">
      
      
      <link rel="icon" href="../assets/site-files/yamtl/favicon.ico">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.4.8">
    
    
      
        <title>Flowchart to HTML - YAMTL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4b4a2bd9.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.356b1318.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../stylesheets/extra.scss">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  

<script id="__analytics">function __md_analytics(){function n(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],n("js",new Date),n("config","UA-78418237-2"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){this.value&&n("event","search",{search_term:this.value})}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");n("event","feedback",{page:t,data:e}),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){n("config","UA-78418237-2",{page_path:e.pathname})})});var e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=UA-78418237-2",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>
  
    <script>var consent;"undefined"==typeof __md_analytics||(consent=__md_get("__consent"))&&consent.analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="amber">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#flowchart-to-html" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../index.html" title="YAMTL" class="md-header__button md-logo" aria-label="YAMTL" data-md-component="logo">
      
  <img src="../assets/site-files/yamtl-white/favicon-32x32.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            YAMTL
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Flowchart to HTML
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="pink" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="pink" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1Z"/></svg>
      </label>
    
  
</form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
                
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="YAMTL" class="md-nav__button md-logo" aria-label="YAMTL" data-md-component="logo">
      
  <img src="../assets/site-files/yamtl-white/favicon-32x32.png" alt="logo">

    </a>
    YAMTL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../getting-started.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Getting Started
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../yamtl-reference.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Language Reference
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="https://yamtl.github.io/playground/?activities=https://yamtl.github.io/playground-activities/yamtl-demo-activity.yml" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Playground
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../yamtl-ide.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Choosing an IDE
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" checked>
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Examples
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="examples.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Examples Repository
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="linked-list-reversal-example.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linked List Reversal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Flowchart to HTML
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="flowchart-to-html-example.html" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Flowchart to HTML
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-description" class="md-nav__link">
    Problem Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-metamodel" class="md-nav__link">
    Source Metamodel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-metamodel" class="md-nav__link">
    Target Metamodel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-model" class="md-nav__link">
    Source Model
  </a>
  
    <nav class="md-nav" aria-label="Source Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wakeup-flowchart" class="md-nav__link">
    Wakeup Flowchart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wakeup-flowchart-with-subflow" class="md-nav__link">
    Wakeup Flowchart with Subflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-model" class="md-nav__link">
    Target Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flowchart-to-html-yamtl-implementation" class="md-nav__link">
    Flowchart to HTML - YAMTL Implementation
  </a>
  
    <nav class="md-nav" aria-label="Flowchart to HTML - YAMTL Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-inheritance" class="md-nav__link">
    Rule Inheritance
  </a>
  
    <nav class="md-nav" aria-label="Rule Inheritance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rule-override" class="md-nav__link">
    Rule Override
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lazy-rules" class="md-nav__link">
    Lazy Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transient-rules" class="md-nav__link">
    Transient Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-filtering" class="md-nav__link">
    Rule Filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#derived-input-elements" class="md-nav__link">
    Derived Input Elements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-sources" class="md-nav__link">
    Multiple Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mulitple-targets" class="md-nav__link">
    Mulitple Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-many-operation" class="md-nav__link">
    To Many Operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-with-block" class="md-nav__link">
    End With Block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-priority" class="md-nav__link">
    Rule Priority
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpers" class="md-nav__link">
    Helpers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-queries" class="md-nav__link">
    Model Queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-composition" class="md-nav__link">
    Module Composition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transformation-test-script" class="md-nav__link">
    Transformation Test Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-platforms" class="md-nav__link">
    Development Platforms
  </a>
  
    <nav class="md-nav" aria-label="Development Platforms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eclipse" class="md-nav__link">
    Eclipse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intellij" class="md-nav__link">
    IntelliJ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vscode" class="md-nav__link">
    VSCode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Exercises
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Exercises
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../exercises/flowchart-to-html-worksheet.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flowchart to HTML
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
    <li class="md-nav__item">
      <a href="../contact-us.html" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contact Us
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
                
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#problem-description" class="md-nav__link">
    Problem Description
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-metamodel" class="md-nav__link">
    Source Metamodel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-metamodel" class="md-nav__link">
    Target Metamodel
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#source-model" class="md-nav__link">
    Source Model
  </a>
  
    <nav class="md-nav" aria-label="Source Model">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#wakeup-flowchart" class="md-nav__link">
    Wakeup Flowchart
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#wakeup-flowchart-with-subflow" class="md-nav__link">
    Wakeup Flowchart with Subflow
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#target-model" class="md-nav__link">
    Target Model
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#flowchart-to-html-yamtl-implementation" class="md-nav__link">
    Flowchart to HTML - YAMTL Implementation
  </a>
  
    <nav class="md-nav" aria-label="Flowchart to HTML - YAMTL Implementation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-example" class="md-nav__link">
    Basic Example
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-inheritance" class="md-nav__link">
    Rule Inheritance
  </a>
  
    <nav class="md-nav" aria-label="Rule Inheritance">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rule-override" class="md-nav__link">
    Rule Override
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lazy-rules" class="md-nav__link">
    Lazy Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#transient-rules" class="md-nav__link">
    Transient Rules
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-filtering" class="md-nav__link">
    Rule Filtering
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#derived-input-elements" class="md-nav__link">
    Derived Input Elements
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#multiple-sources" class="md-nav__link">
    Multiple Sources
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mulitple-targets" class="md-nav__link">
    Mulitple Targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#to-many-operation" class="md-nav__link">
    To Many Operation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#end-with-block" class="md-nav__link">
    End With Block
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#rule-priority" class="md-nav__link">
    Rule Priority
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#helpers" class="md-nav__link">
    Helpers
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#model-queries" class="md-nav__link">
    Model Queries
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#module-composition" class="md-nav__link">
    Module Composition
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#transformation-test-script" class="md-nav__link">
    Transformation Test Script
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#development-platforms" class="md-nav__link">
    Development Platforms
  </a>
  
    <nav class="md-nav" aria-label="Development Platforms">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#eclipse" class="md-nav__link">
    Eclipse
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#intellij" class="md-nav__link">
    IntelliJ
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vscode" class="md-nav__link">
    VSCode
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


<h1 id="flowchart-to-html">Flowchart to HTML</h1>
<h2 id="problem-description">Problem Description</h2>
<p>In this example, we will look at converting flowchart elements into HTML elements. The problem is open-ended, meaning, there is no one solution but rather the project will contain many small examples that showcase a multitude of operations for each documented MTL. The flowchart which should be used as the source model of the project is depicted in the diagram below:</p>
<figure style="height:350px;width:400px">
<p><pre class="mermaid"><code>graph LR
  A[Begin] --&gt;|Start| B[Wake up];
  B --&gt; C{Is it really too early?};
  C --&gt; |Yes| D[Sleep];
  C --&gt; |No| E[Get up]
  D --&gt; |Some Time Passes| B;</code></pre>
  </p>
<figcaption>Wakeup Flowchart</figcaption>
</figure>
<p>Here is how the different models in this project depend on each other:</p>
<figure style="height:350px;width:400px">
<p><pre class="mermaid"><code>graph BT
    B[Source Model] --&gt;|conforms to| A[Flowchart Metamodel];
    C[MT Execution Engine] --&gt;|reads| B;
    C --&gt;|executes| D[MT Definition];
    C --&gt;|writes| E[Target Model];
    D --&gt;|uses| A;
    E --&gt;|conforms to| F[HTML Metamodel];
    D --&gt;|uses| F;</code></pre>
  </p>
<figcaption>Dependencies of the project files</figcaption>
</figure>
<p>Now, let's see how the models are defined.</p>
<h2 id="source-metamodel">Source Metamodel</h2>
<p>The source metamodel is defined using Emfatic (.emf), which can be converted into an <code>ECore</code> file. You can then access the flowchart classes as <code>EPackage</code>s (<code>ECore</code> has <code>EClasses</code> which are referenced as <code>EPackage</code> in Groovy) to be used within the MT definition. </p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>@namespace(uri=&quot;flowchart&quot;, prefix=&quot;flowchart&quot;)
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>package flowchart;
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>abstract class NamedElement {
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>    attr String name;
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a>}
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>class Flowchart extends NamedElement {
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a>   val Node[*] nodes;
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a>   val Transition[*] transitions;
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a>}
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a>
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a>abstract class Node extends NamedElement {
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a>   ref Transition[*]#source outgoing;
</span><span id="__span-0-15"><a id="__codelineno-0-15" name="__codelineno-0-15" href="#__codelineno-0-15"></a>   ref Transition[*]#target incoming;
</span><span id="__span-0-16"><a id="__codelineno-0-16" name="__codelineno-0-16" href="#__codelineno-0-16"></a>}
</span><span id="__span-0-17"><a id="__codelineno-0-17" name="__codelineno-0-17" href="#__codelineno-0-17"></a>
</span><span id="__span-0-18"><a id="__codelineno-0-18" name="__codelineno-0-18" href="#__codelineno-0-18"></a>class Transition extends NamedElement {
</span><span id="__span-0-19"><a id="__codelineno-0-19" name="__codelineno-0-19" href="#__codelineno-0-19"></a>   ref Node#outgoing source;
</span><span id="__span-0-20"><a id="__codelineno-0-20" name="__codelineno-0-20" href="#__codelineno-0-20"></a>   ref Node#incoming target;
</span><span id="__span-0-21"><a id="__codelineno-0-21" name="__codelineno-0-21" href="#__codelineno-0-21"></a>}
</span><span id="__span-0-22"><a id="__codelineno-0-22" name="__codelineno-0-22" href="#__codelineno-0-22"></a>
</span><span id="__span-0-23"><a id="__codelineno-0-23" name="__codelineno-0-23" href="#__codelineno-0-23"></a>class Action extends Node {
</span><span id="__span-0-24"><a id="__codelineno-0-24" name="__codelineno-0-24" href="#__codelineno-0-24"></a>
</span><span id="__span-0-25"><a id="__codelineno-0-25" name="__codelineno-0-25" href="#__codelineno-0-25"></a>}
</span><span id="__span-0-26"><a id="__codelineno-0-26" name="__codelineno-0-26" href="#__codelineno-0-26"></a>
</span><span id="__span-0-27"><a id="__codelineno-0-27" name="__codelineno-0-27" href="#__codelineno-0-27"></a>class Decision extends Node {
</span><span id="__span-0-28"><a id="__codelineno-0-28" name="__codelineno-0-28" href="#__codelineno-0-28"></a>
</span><span id="__span-0-29"><a id="__codelineno-0-29" name="__codelineno-0-29" href="#__codelineno-0-29"></a>}
</span><span id="__span-0-30"><a id="__codelineno-0-30" name="__codelineno-0-30" href="#__codelineno-0-30"></a>
</span><span id="__span-0-31"><a id="__codelineno-0-31" name="__codelineno-0-31" href="#__codelineno-0-31"></a>class Subflow extends Flowchart, Node {
</span><span id="__span-0-32"><a id="__codelineno-0-32" name="__codelineno-0-32" href="#__codelineno-0-32"></a>
</span><span id="__span-0-33"><a id="__codelineno-0-33" name="__codelineno-0-33" href="#__codelineno-0-33"></a>}
</span></code></pre></div>
<h2 id="target-metamodel">Target Metamodel</h2>
<p>Just like before, the target metamodel is also defined using Emfatic. The metamodel script is long because all HTML elements must be defined so that the transformation generates a valid HTML document.</p>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>package HTML;
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>  class HTML {
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>    !ordered val HEAD#html head;
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>    !ordered val BODY#html body;
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  }
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>  class HTMLElement {
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>    !unique !ordered attr EString value;
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>    !ordered val HTMLElement[*] children;
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>  }
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>  class HEAD extends HTMLElement {
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>    !ordered val HEADElement[*]#head headElements;
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    !ordered ref HTML#head html;
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>  }
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>
</span><span id="__span-1-18"><a id="__codelineno-1-18" name="__codelineno-1-18" href="#__codelineno-1-18"></a>  abstract class HEADElement extends HTMLElement {
</span><span id="__span-1-19"><a id="__codelineno-1-19" name="__codelineno-1-19" href="#__codelineno-1-19"></a>    !ordered ref HEAD#headElements head;
</span><span id="__span-1-20"><a id="__codelineno-1-20" name="__codelineno-1-20" href="#__codelineno-1-20"></a>  }
</span><span id="__span-1-21"><a id="__codelineno-1-21" name="__codelineno-1-21" href="#__codelineno-1-21"></a>
</span><span id="__span-1-22"><a id="__codelineno-1-22" name="__codelineno-1-22" href="#__codelineno-1-22"></a>  class LINK extends HEADElement {
</span><span id="__span-1-23"><a id="__codelineno-1-23" name="__codelineno-1-23" href="#__codelineno-1-23"></a>    !unique !ordered attr EString rel;
</span><span id="__span-1-24"><a id="__codelineno-1-24" name="__codelineno-1-24" href="#__codelineno-1-24"></a>    !unique !ordered attr EString title;
</span><span id="__span-1-25"><a id="__codelineno-1-25" name="__codelineno-1-25" href="#__codelineno-1-25"></a>    !unique !ordered attr EString ahref;
</span><span id="__span-1-26"><a id="__codelineno-1-26" name="__codelineno-1-26" href="#__codelineno-1-26"></a>    !unique !ordered attr EString type;
</span><span id="__span-1-27"><a id="__codelineno-1-27" name="__codelineno-1-27" href="#__codelineno-1-27"></a>  }
</span><span id="__span-1-28"><a id="__codelineno-1-28" name="__codelineno-1-28" href="#__codelineno-1-28"></a>
</span><span id="__span-1-29"><a id="__codelineno-1-29" name="__codelineno-1-29" href="#__codelineno-1-29"></a>  class TITLE extends HEADElement {
</span><span id="__span-1-30"><a id="__codelineno-1-30" name="__codelineno-1-30" href="#__codelineno-1-30"></a>  }
</span><span id="__span-1-31"><a id="__codelineno-1-31" name="__codelineno-1-31" href="#__codelineno-1-31"></a>
</span><span id="__span-1-32"><a id="__codelineno-1-32" name="__codelineno-1-32" href="#__codelineno-1-32"></a>  class BODY extends HTMLElement {
</span><span id="__span-1-33"><a id="__codelineno-1-33" name="__codelineno-1-33" href="#__codelineno-1-33"></a>    !unique !ordered attr EString background;
</span><span id="__span-1-34"><a id="__codelineno-1-34" name="__codelineno-1-34" href="#__codelineno-1-34"></a>    !unique !ordered attr EString bgcolor;
</span><span id="__span-1-35"><a id="__codelineno-1-35" name="__codelineno-1-35" href="#__codelineno-1-35"></a>    !unique !ordered attr EString text;
</span><span id="__span-1-36"><a id="__codelineno-1-36" name="__codelineno-1-36" href="#__codelineno-1-36"></a>    !unique !ordered attr EString link;
</span><span id="__span-1-37"><a id="__codelineno-1-37" name="__codelineno-1-37" href="#__codelineno-1-37"></a>    !unique !ordered attr EString alink;
</span><span id="__span-1-38"><a id="__codelineno-1-38" name="__codelineno-1-38" href="#__codelineno-1-38"></a>    !unique !ordered attr EString vlink;
</span><span id="__span-1-39"><a id="__codelineno-1-39" name="__codelineno-1-39" href="#__codelineno-1-39"></a>    !ordered val BODYElement[*] bodyElements;
</span><span id="__span-1-40"><a id="__codelineno-1-40" name="__codelineno-1-40" href="#__codelineno-1-40"></a>    !ordered ref HTML#body html;
</span><span id="__span-1-41"><a id="__codelineno-1-41" name="__codelineno-1-41" href="#__codelineno-1-41"></a>  }
</span><span id="__span-1-42"><a id="__codelineno-1-42" name="__codelineno-1-42" href="#__codelineno-1-42"></a>
</span><span id="__span-1-43"><a id="__codelineno-1-43" name="__codelineno-1-43" href="#__codelineno-1-43"></a>  abstract class BODYElement extends HTMLElement {
</span><span id="__span-1-44"><a id="__codelineno-1-44" name="__codelineno-1-44" href="#__codelineno-1-44"></a>  }
</span><span id="__span-1-45"><a id="__codelineno-1-45" name="__codelineno-1-45" href="#__codelineno-1-45"></a>
</span><span id="__span-1-46"><a id="__codelineno-1-46" name="__codelineno-1-46" href="#__codelineno-1-46"></a>  class H1 extends BODYElement {
</span><span id="__span-1-47"><a id="__codelineno-1-47" name="__codelineno-1-47" href="#__codelineno-1-47"></a>  }
</span><span id="__span-1-48"><a id="__codelineno-1-48" name="__codelineno-1-48" href="#__codelineno-1-48"></a>
</span><span id="__span-1-49"><a id="__codelineno-1-49" name="__codelineno-1-49" href="#__codelineno-1-49"></a>  class H2 extends BODYElement {
</span><span id="__span-1-50"><a id="__codelineno-1-50" name="__codelineno-1-50" href="#__codelineno-1-50"></a>  }
</span><span id="__span-1-51"><a id="__codelineno-1-51" name="__codelineno-1-51" href="#__codelineno-1-51"></a>
</span><span id="__span-1-52"><a id="__codelineno-1-52" name="__codelineno-1-52" href="#__codelineno-1-52"></a>  class H3 extends BODYElement {
</span><span id="__span-1-53"><a id="__codelineno-1-53" name="__codelineno-1-53" href="#__codelineno-1-53"></a>  }
</span><span id="__span-1-54"><a id="__codelineno-1-54" name="__codelineno-1-54" href="#__codelineno-1-54"></a>
</span><span id="__span-1-55"><a id="__codelineno-1-55" name="__codelineno-1-55" href="#__codelineno-1-55"></a>  class H4 extends BODYElement {
</span><span id="__span-1-56"><a id="__codelineno-1-56" name="__codelineno-1-56" href="#__codelineno-1-56"></a>  }
</span><span id="__span-1-57"><a id="__codelineno-1-57" name="__codelineno-1-57" href="#__codelineno-1-57"></a>
</span><span id="__span-1-58"><a id="__codelineno-1-58" name="__codelineno-1-58" href="#__codelineno-1-58"></a>  class EM extends BODYElement {
</span><span id="__span-1-59"><a id="__codelineno-1-59" name="__codelineno-1-59" href="#__codelineno-1-59"></a>  }
</span><span id="__span-1-60"><a id="__codelineno-1-60" name="__codelineno-1-60" href="#__codelineno-1-60"></a>
</span><span id="__span-1-61"><a id="__codelineno-1-61" name="__codelineno-1-61" href="#__codelineno-1-61"></a>  class STRONG extends BODYElement {
</span><span id="__span-1-62"><a id="__codelineno-1-62" name="__codelineno-1-62" href="#__codelineno-1-62"></a>  }
</span><span id="__span-1-63"><a id="__codelineno-1-63" name="__codelineno-1-63" href="#__codelineno-1-63"></a>
</span><span id="__span-1-64"><a id="__codelineno-1-64" name="__codelineno-1-64" href="#__codelineno-1-64"></a>  class B extends BODYElement {
</span><span id="__span-1-65"><a id="__codelineno-1-65" name="__codelineno-1-65" href="#__codelineno-1-65"></a>  }
</span><span id="__span-1-66"><a id="__codelineno-1-66" name="__codelineno-1-66" href="#__codelineno-1-66"></a>
</span><span id="__span-1-67"><a id="__codelineno-1-67" name="__codelineno-1-67" href="#__codelineno-1-67"></a>  class I extends BODYElement {
</span><span id="__span-1-68"><a id="__codelineno-1-68" name="__codelineno-1-68" href="#__codelineno-1-68"></a>  }
</span><span id="__span-1-69"><a id="__codelineno-1-69" name="__codelineno-1-69" href="#__codelineno-1-69"></a>
</span><span id="__span-1-70"><a id="__codelineno-1-70" name="__codelineno-1-70" href="#__codelineno-1-70"></a>  class TT extends BODYElement {
</span><span id="__span-1-71"><a id="__codelineno-1-71" name="__codelineno-1-71" href="#__codelineno-1-71"></a>  }
</span><span id="__span-1-72"><a id="__codelineno-1-72" name="__codelineno-1-72" href="#__codelineno-1-72"></a>
</span><span id="__span-1-73"><a id="__codelineno-1-73" name="__codelineno-1-73" href="#__codelineno-1-73"></a>  class PRE extends BODYElement {
</span><span id="__span-1-74"><a id="__codelineno-1-74" name="__codelineno-1-74" href="#__codelineno-1-74"></a>  }
</span><span id="__span-1-75"><a id="__codelineno-1-75" name="__codelineno-1-75" href="#__codelineno-1-75"></a>
</span><span id="__span-1-76"><a id="__codelineno-1-76" name="__codelineno-1-76" href="#__codelineno-1-76"></a>  class BIG extends BODYElement {
</span><span id="__span-1-77"><a id="__codelineno-1-77" name="__codelineno-1-77" href="#__codelineno-1-77"></a>  }
</span><span id="__span-1-78"><a id="__codelineno-1-78" name="__codelineno-1-78" href="#__codelineno-1-78"></a>
</span><span id="__span-1-79"><a id="__codelineno-1-79" name="__codelineno-1-79" href="#__codelineno-1-79"></a>  class SMALL extends BODYElement {
</span><span id="__span-1-80"><a id="__codelineno-1-80" name="__codelineno-1-80" href="#__codelineno-1-80"></a>  }
</span><span id="__span-1-81"><a id="__codelineno-1-81" name="__codelineno-1-81" href="#__codelineno-1-81"></a>
</span><span id="__span-1-82"><a id="__codelineno-1-82" name="__codelineno-1-82" href="#__codelineno-1-82"></a>  class SUB extends BODYElement {
</span><span id="__span-1-83"><a id="__codelineno-1-83" name="__codelineno-1-83" href="#__codelineno-1-83"></a>  }
</span><span id="__span-1-84"><a id="__codelineno-1-84" name="__codelineno-1-84" href="#__codelineno-1-84"></a>
</span><span id="__span-1-85"><a id="__codelineno-1-85" name="__codelineno-1-85" href="#__codelineno-1-85"></a>  class SUP extends BODYElement {
</span><span id="__span-1-86"><a id="__codelineno-1-86" name="__codelineno-1-86" href="#__codelineno-1-86"></a>  }
</span><span id="__span-1-87"><a id="__codelineno-1-87" name="__codelineno-1-87" href="#__codelineno-1-87"></a>
</span><span id="__span-1-88"><a id="__codelineno-1-88" name="__codelineno-1-88" href="#__codelineno-1-88"></a>  class STRIKE extends BODYElement {
</span><span id="__span-1-89"><a id="__codelineno-1-89" name="__codelineno-1-89" href="#__codelineno-1-89"></a>  }
</span><span id="__span-1-90"><a id="__codelineno-1-90" name="__codelineno-1-90" href="#__codelineno-1-90"></a>
</span><span id="__span-1-91"><a id="__codelineno-1-91" name="__codelineno-1-91" href="#__codelineno-1-91"></a>  class FONT extends BODYElement {
</span><span id="__span-1-92"><a id="__codelineno-1-92" name="__codelineno-1-92" href="#__codelineno-1-92"></a>    !unique !ordered attr EString color;
</span><span id="__span-1-93"><a id="__codelineno-1-93" name="__codelineno-1-93" href="#__codelineno-1-93"></a>    !unique !ordered attr EString face;
</span><span id="__span-1-94"><a id="__codelineno-1-94" name="__codelineno-1-94" href="#__codelineno-1-94"></a>    !unique !ordered attr EString size;
</span><span id="__span-1-95"><a id="__codelineno-1-95" name="__codelineno-1-95" href="#__codelineno-1-95"></a>  }
</span><span id="__span-1-96"><a id="__codelineno-1-96" name="__codelineno-1-96" href="#__codelineno-1-96"></a>
</span><span id="__span-1-97"><a id="__codelineno-1-97" name="__codelineno-1-97" href="#__codelineno-1-97"></a>  class IMG extends BODYElement {
</span><span id="__span-1-98"><a id="__codelineno-1-98" name="__codelineno-1-98" href="#__codelineno-1-98"></a>    !unique !ordered attr EString src;
</span><span id="__span-1-99"><a id="__codelineno-1-99" name="__codelineno-1-99" href="#__codelineno-1-99"></a>    !unique !ordered attr EString width;
</span><span id="__span-1-100"><a id="__codelineno-1-100" name="__codelineno-1-100" href="#__codelineno-1-100"></a>    !unique !ordered attr EString height;
</span><span id="__span-1-101"><a id="__codelineno-1-101" name="__codelineno-1-101" href="#__codelineno-1-101"></a>    !unique !ordered attr EString alt;
</span><span id="__span-1-102"><a id="__codelineno-1-102" name="__codelineno-1-102" href="#__codelineno-1-102"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-103"><a id="__codelineno-1-103" name="__codelineno-1-103" href="#__codelineno-1-103"></a>    !unique !ordered attr EString vspace;
</span><span id="__span-1-104"><a id="__codelineno-1-104" name="__codelineno-1-104" href="#__codelineno-1-104"></a>    !unique !ordered attr EString hspace;
</span><span id="__span-1-105"><a id="__codelineno-1-105" name="__codelineno-1-105" href="#__codelineno-1-105"></a>    !unique !ordered attr EString ismap;
</span><span id="__span-1-106"><a id="__codelineno-1-106" name="__codelineno-1-106" href="#__codelineno-1-106"></a>    !unique !ordered attr EString usemap;
</span><span id="__span-1-107"><a id="__codelineno-1-107" name="__codelineno-1-107" href="#__codelineno-1-107"></a>    !unique !ordered attr EString border;
</span><span id="__span-1-108"><a id="__codelineno-1-108" name="__codelineno-1-108" href="#__codelineno-1-108"></a>  }
</span><span id="__span-1-109"><a id="__codelineno-1-109" name="__codelineno-1-109" href="#__codelineno-1-109"></a>
</span><span id="__span-1-110"><a id="__codelineno-1-110" name="__codelineno-1-110" href="#__codelineno-1-110"></a>  class BR extends BODYElement {
</span><span id="__span-1-111"><a id="__codelineno-1-111" name="__codelineno-1-111" href="#__codelineno-1-111"></a>    !unique !ordered attr EString clear;
</span><span id="__span-1-112"><a id="__codelineno-1-112" name="__codelineno-1-112" href="#__codelineno-1-112"></a>  }
</span><span id="__span-1-113"><a id="__codelineno-1-113" name="__codelineno-1-113" href="#__codelineno-1-113"></a>
</span><span id="__span-1-114"><a id="__codelineno-1-114" name="__codelineno-1-114" href="#__codelineno-1-114"></a>  class MAP extends BODYElement {
</span><span id="__span-1-115"><a id="__codelineno-1-115" name="__codelineno-1-115" href="#__codelineno-1-115"></a>  }
</span><span id="__span-1-116"><a id="__codelineno-1-116" name="__codelineno-1-116" href="#__codelineno-1-116"></a>
</span><span id="__span-1-117"><a id="__codelineno-1-117" name="__codelineno-1-117" href="#__codelineno-1-117"></a>  class AREA extends BODYElement {
</span><span id="__span-1-118"><a id="__codelineno-1-118" name="__codelineno-1-118" href="#__codelineno-1-118"></a>    !unique !ordered attr EString shape;
</span><span id="__span-1-119"><a id="__codelineno-1-119" name="__codelineno-1-119" href="#__codelineno-1-119"></a>    !unique !ordered attr EString coords;
</span><span id="__span-1-120"><a id="__codelineno-1-120" name="__codelineno-1-120" href="#__codelineno-1-120"></a>    !unique !ordered attr EString ahref;
</span><span id="__span-1-121"><a id="__codelineno-1-121" name="__codelineno-1-121" href="#__codelineno-1-121"></a>  }
</span><span id="__span-1-122"><a id="__codelineno-1-122" name="__codelineno-1-122" href="#__codelineno-1-122"></a>
</span><span id="__span-1-123"><a id="__codelineno-1-123" name="__codelineno-1-123" href="#__codelineno-1-123"></a>  class STYLE extends BODYElement {
</span><span id="__span-1-124"><a id="__codelineno-1-124" name="__codelineno-1-124" href="#__codelineno-1-124"></a>  }
</span><span id="__span-1-125"><a id="__codelineno-1-125" name="__codelineno-1-125" href="#__codelineno-1-125"></a>
</span><span id="__span-1-126"><a id="__codelineno-1-126" name="__codelineno-1-126" href="#__codelineno-1-126"></a>  class EMBED extends BODYElement {
</span><span id="__span-1-127"><a id="__codelineno-1-127" name="__codelineno-1-127" href="#__codelineno-1-127"></a>    !unique !ordered attr EString src;
</span><span id="__span-1-128"><a id="__codelineno-1-128" name="__codelineno-1-128" href="#__codelineno-1-128"></a>    !unique !ordered attr EString width;
</span><span id="__span-1-129"><a id="__codelineno-1-129" name="__codelineno-1-129" href="#__codelineno-1-129"></a>    !unique !ordered attr EString height;
</span><span id="__span-1-130"><a id="__codelineno-1-130" name="__codelineno-1-130" href="#__codelineno-1-130"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-131"><a id="__codelineno-1-131" name="__codelineno-1-131" href="#__codelineno-1-131"></a>    !unique !ordered attr EString vspace;
</span><span id="__span-1-132"><a id="__codelineno-1-132" name="__codelineno-1-132" href="#__codelineno-1-132"></a>    !unique !ordered attr EString hspace;
</span><span id="__span-1-133"><a id="__codelineno-1-133" name="__codelineno-1-133" href="#__codelineno-1-133"></a>    !unique !ordered attr EString border;
</span><span id="__span-1-134"><a id="__codelineno-1-134" name="__codelineno-1-134" href="#__codelineno-1-134"></a>  }
</span><span id="__span-1-135"><a id="__codelineno-1-135" name="__codelineno-1-135" href="#__codelineno-1-135"></a>
</span><span id="__span-1-136"><a id="__codelineno-1-136" name="__codelineno-1-136" href="#__codelineno-1-136"></a>  class NOEMBED extends BODYElement {
</span><span id="__span-1-137"><a id="__codelineno-1-137" name="__codelineno-1-137" href="#__codelineno-1-137"></a>  }
</span><span id="__span-1-138"><a id="__codelineno-1-138" name="__codelineno-1-138" href="#__codelineno-1-138"></a>
</span><span id="__span-1-139"><a id="__codelineno-1-139" name="__codelineno-1-139" href="#__codelineno-1-139"></a>  class SPAN extends BODYElement {
</span><span id="__span-1-140"><a id="__codelineno-1-140" name="__codelineno-1-140" href="#__codelineno-1-140"></a>    !unique !ordered attr EString style;
</span><span id="__span-1-141"><a id="__codelineno-1-141" name="__codelineno-1-141" href="#__codelineno-1-141"></a>  }
</span><span id="__span-1-142"><a id="__codelineno-1-142" name="__codelineno-1-142" href="#__codelineno-1-142"></a>
</span><span id="__span-1-143"><a id="__codelineno-1-143" name="__codelineno-1-143" href="#__codelineno-1-143"></a>  class A extends BODYElement {
</span><span id="__span-1-144"><a id="__codelineno-1-144" name="__codelineno-1-144" href="#__codelineno-1-144"></a>    !unique !ordered attr EString ahref;
</span><span id="__span-1-145"><a id="__codelineno-1-145" name="__codelineno-1-145" href="#__codelineno-1-145"></a>    !unique !ordered attr EString name;
</span><span id="__span-1-146"><a id="__codelineno-1-146" name="__codelineno-1-146" href="#__codelineno-1-146"></a>    !unique !ordered attr EString ~id;
</span><span id="__span-1-147"><a id="__codelineno-1-147" name="__codelineno-1-147" href="#__codelineno-1-147"></a>  }
</span><span id="__span-1-148"><a id="__codelineno-1-148" name="__codelineno-1-148" href="#__codelineno-1-148"></a>
</span><span id="__span-1-149"><a id="__codelineno-1-149" name="__codelineno-1-149" href="#__codelineno-1-149"></a>  class DIV extends BODYElement {
</span><span id="__span-1-150"><a id="__codelineno-1-150" name="__codelineno-1-150" href="#__codelineno-1-150"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-151"><a id="__codelineno-1-151" name="__codelineno-1-151" href="#__codelineno-1-151"></a>  }
</span><span id="__span-1-152"><a id="__codelineno-1-152" name="__codelineno-1-152" href="#__codelineno-1-152"></a>
</span><span id="__span-1-153"><a id="__codelineno-1-153" name="__codelineno-1-153" href="#__codelineno-1-153"></a>  class P extends BODYElement {
</span><span id="__span-1-154"><a id="__codelineno-1-154" name="__codelineno-1-154" href="#__codelineno-1-154"></a>  }
</span><span id="__span-1-155"><a id="__codelineno-1-155" name="__codelineno-1-155" href="#__codelineno-1-155"></a>
</span><span id="__span-1-156"><a id="__codelineno-1-156" name="__codelineno-1-156" href="#__codelineno-1-156"></a>  abstract class TABLEElement extends BODYElement {
</span><span id="__span-1-157"><a id="__codelineno-1-157" name="__codelineno-1-157" href="#__codelineno-1-157"></a>    !unique !ordered attr EString bgcolor;
</span><span id="__span-1-158"><a id="__codelineno-1-158" name="__codelineno-1-158" href="#__codelineno-1-158"></a>    !unique !ordered attr EString background;
</span><span id="__span-1-159"><a id="__codelineno-1-159" name="__codelineno-1-159" href="#__codelineno-1-159"></a>  }
</span><span id="__span-1-160"><a id="__codelineno-1-160" name="__codelineno-1-160" href="#__codelineno-1-160"></a>
</span><span id="__span-1-161"><a id="__codelineno-1-161" name="__codelineno-1-161" href="#__codelineno-1-161"></a>  class TABLE extends TABLEElement {
</span><span id="__span-1-162"><a id="__codelineno-1-162" name="__codelineno-1-162" href="#__codelineno-1-162"></a>    !unique !ordered attr EString border;
</span><span id="__span-1-163"><a id="__codelineno-1-163" name="__codelineno-1-163" href="#__codelineno-1-163"></a>    !unique !ordered attr EString width;
</span><span id="__span-1-164"><a id="__codelineno-1-164" name="__codelineno-1-164" href="#__codelineno-1-164"></a>    !unique !ordered attr EString cellspacing;
</span><span id="__span-1-165"><a id="__codelineno-1-165" name="__codelineno-1-165" href="#__codelineno-1-165"></a>    !unique !ordered attr EString cellpadding;
</span><span id="__span-1-166"><a id="__codelineno-1-166" name="__codelineno-1-166" href="#__codelineno-1-166"></a>    !ordered val TR[*]#table trs;
</span><span id="__span-1-167"><a id="__codelineno-1-167" name="__codelineno-1-167" href="#__codelineno-1-167"></a>  }
</span><span id="__span-1-168"><a id="__codelineno-1-168" name="__codelineno-1-168" href="#__codelineno-1-168"></a>
</span><span id="__span-1-169"><a id="__codelineno-1-169" name="__codelineno-1-169" href="#__codelineno-1-169"></a>  class TR extends TABLEElement {
</span><span id="__span-1-170"><a id="__codelineno-1-170" name="__codelineno-1-170" href="#__codelineno-1-170"></a>    !unique !ordered attr EString valign;
</span><span id="__span-1-171"><a id="__codelineno-1-171" name="__codelineno-1-171" href="#__codelineno-1-171"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-172"><a id="__codelineno-1-172" name="__codelineno-1-172" href="#__codelineno-1-172"></a>    !ordered ref TABLE#trs table;
</span><span id="__span-1-173"><a id="__codelineno-1-173" name="__codelineno-1-173" href="#__codelineno-1-173"></a>    !ordered val TD[*]#tr tds;
</span><span id="__span-1-174"><a id="__codelineno-1-174" name="__codelineno-1-174" href="#__codelineno-1-174"></a>  }
</span><span id="__span-1-175"><a id="__codelineno-1-175" name="__codelineno-1-175" href="#__codelineno-1-175"></a>
</span><span id="__span-1-176"><a id="__codelineno-1-176" name="__codelineno-1-176" href="#__codelineno-1-176"></a>  class TD extends TABLEElement {
</span><span id="__span-1-177"><a id="__codelineno-1-177" name="__codelineno-1-177" href="#__codelineno-1-177"></a>    !unique !ordered attr EString colspan;
</span><span id="__span-1-178"><a id="__codelineno-1-178" name="__codelineno-1-178" href="#__codelineno-1-178"></a>    !unique !ordered attr EString rowspan;
</span><span id="__span-1-179"><a id="__codelineno-1-179" name="__codelineno-1-179" href="#__codelineno-1-179"></a>    !unique !ordered attr EString valign;
</span><span id="__span-1-180"><a id="__codelineno-1-180" name="__codelineno-1-180" href="#__codelineno-1-180"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-181"><a id="__codelineno-1-181" name="__codelineno-1-181" href="#__codelineno-1-181"></a>    !unique !ordered attr EString width;
</span><span id="__span-1-182"><a id="__codelineno-1-182" name="__codelineno-1-182" href="#__codelineno-1-182"></a>    !ordered ref TR#tds tr;
</span><span id="__span-1-183"><a id="__codelineno-1-183" name="__codelineno-1-183" href="#__codelineno-1-183"></a>  }
</span><span id="__span-1-184"><a id="__codelineno-1-184" name="__codelineno-1-184" href="#__codelineno-1-184"></a>
</span><span id="__span-1-185"><a id="__codelineno-1-185" name="__codelineno-1-185" href="#__codelineno-1-185"></a>  class TH extends TD {
</span><span id="__span-1-186"><a id="__codelineno-1-186" name="__codelineno-1-186" href="#__codelineno-1-186"></a>  }
</span><span id="__span-1-187"><a id="__codelineno-1-187" name="__codelineno-1-187" href="#__codelineno-1-187"></a>
</span><span id="__span-1-188"><a id="__codelineno-1-188" name="__codelineno-1-188" href="#__codelineno-1-188"></a>  class FORM {
</span><span id="__span-1-189"><a id="__codelineno-1-189" name="__codelineno-1-189" href="#__codelineno-1-189"></a>    !unique !ordered attr EString action;
</span><span id="__span-1-190"><a id="__codelineno-1-190" name="__codelineno-1-190" href="#__codelineno-1-190"></a>    !unique !ordered attr EString method;
</span><span id="__span-1-191"><a id="__codelineno-1-191" name="__codelineno-1-191" href="#__codelineno-1-191"></a>  }
</span><span id="__span-1-192"><a id="__codelineno-1-192" name="__codelineno-1-192" href="#__codelineno-1-192"></a>
</span><span id="__span-1-193"><a id="__codelineno-1-193" name="__codelineno-1-193" href="#__codelineno-1-193"></a>  class INPUT {
</span><span id="__span-1-194"><a id="__codelineno-1-194" name="__codelineno-1-194" href="#__codelineno-1-194"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-195"><a id="__codelineno-1-195" name="__codelineno-1-195" href="#__codelineno-1-195"></a>    !unique !ordered attr EString maxlength;
</span><span id="__span-1-196"><a id="__codelineno-1-196" name="__codelineno-1-196" href="#__codelineno-1-196"></a>    !unique !ordered attr EString size;
</span><span id="__span-1-197"><a id="__codelineno-1-197" name="__codelineno-1-197" href="#__codelineno-1-197"></a>    !unique !ordered attr EString checked;
</span><span id="__span-1-198"><a id="__codelineno-1-198" name="__codelineno-1-198" href="#__codelineno-1-198"></a>    !unique !ordered attr EString src;
</span><span id="__span-1-199"><a id="__codelineno-1-199" name="__codelineno-1-199" href="#__codelineno-1-199"></a>    !unique !ordered attr EString inputValue;
</span><span id="__span-1-200"><a id="__codelineno-1-200" name="__codelineno-1-200" href="#__codelineno-1-200"></a>    !unique !ordered attr EString name;
</span><span id="__span-1-201"><a id="__codelineno-1-201" name="__codelineno-1-201" href="#__codelineno-1-201"></a>    !unique !ordered attr EString type;
</span><span id="__span-1-202"><a id="__codelineno-1-202" name="__codelineno-1-202" href="#__codelineno-1-202"></a>  }
</span><span id="__span-1-203"><a id="__codelineno-1-203" name="__codelineno-1-203" href="#__codelineno-1-203"></a>
</span><span id="__span-1-204"><a id="__codelineno-1-204" name="__codelineno-1-204" href="#__codelineno-1-204"></a>  class TEXTAREA {
</span><span id="__span-1-205"><a id="__codelineno-1-205" name="__codelineno-1-205" href="#__codelineno-1-205"></a>    !unique !ordered attr EString name;
</span><span id="__span-1-206"><a id="__codelineno-1-206" name="__codelineno-1-206" href="#__codelineno-1-206"></a>    !unique !ordered attr EString rows;
</span><span id="__span-1-207"><a id="__codelineno-1-207" name="__codelineno-1-207" href="#__codelineno-1-207"></a>    !unique !ordered attr EString cols;
</span><span id="__span-1-208"><a id="__codelineno-1-208" name="__codelineno-1-208" href="#__codelineno-1-208"></a>  }
</span><span id="__span-1-209"><a id="__codelineno-1-209" name="__codelineno-1-209" href="#__codelineno-1-209"></a>
</span><span id="__span-1-210"><a id="__codelineno-1-210" name="__codelineno-1-210" href="#__codelineno-1-210"></a>  class SELECT {
</span><span id="__span-1-211"><a id="__codelineno-1-211" name="__codelineno-1-211" href="#__codelineno-1-211"></a>    !unique !ordered attr EString multiple;
</span><span id="__span-1-212"><a id="__codelineno-1-212" name="__codelineno-1-212" href="#__codelineno-1-212"></a>    !unique !ordered attr EString size;
</span><span id="__span-1-213"><a id="__codelineno-1-213" name="__codelineno-1-213" href="#__codelineno-1-213"></a>    !unique !ordered attr EString name;
</span><span id="__span-1-214"><a id="__codelineno-1-214" name="__codelineno-1-214" href="#__codelineno-1-214"></a>  }
</span><span id="__span-1-215"><a id="__codelineno-1-215" name="__codelineno-1-215" href="#__codelineno-1-215"></a>
</span><span id="__span-1-216"><a id="__codelineno-1-216" name="__codelineno-1-216" href="#__codelineno-1-216"></a>  class OPTION {
</span><span id="__span-1-217"><a id="__codelineno-1-217" name="__codelineno-1-217" href="#__codelineno-1-217"></a>    !unique !ordered attr EString selected;
</span><span id="__span-1-218"><a id="__codelineno-1-218" name="__codelineno-1-218" href="#__codelineno-1-218"></a>    !unique !ordered attr EString optionValue;
</span><span id="__span-1-219"><a id="__codelineno-1-219" name="__codelineno-1-219" href="#__codelineno-1-219"></a>  }
</span><span id="__span-1-220"><a id="__codelineno-1-220" name="__codelineno-1-220" href="#__codelineno-1-220"></a>
</span><span id="__span-1-221"><a id="__codelineno-1-221" name="__codelineno-1-221" href="#__codelineno-1-221"></a>  abstract class ListElement {
</span><span id="__span-1-222"><a id="__codelineno-1-222" name="__codelineno-1-222" href="#__codelineno-1-222"></a>    !unique !ordered attr EString type;
</span><span id="__span-1-223"><a id="__codelineno-1-223" name="__codelineno-1-223" href="#__codelineno-1-223"></a>  }
</span><span id="__span-1-224"><a id="__codelineno-1-224" name="__codelineno-1-224" href="#__codelineno-1-224"></a>
</span><span id="__span-1-225"><a id="__codelineno-1-225" name="__codelineno-1-225" href="#__codelineno-1-225"></a>  class OL extends ListElement {
</span><span id="__span-1-226"><a id="__codelineno-1-226" name="__codelineno-1-226" href="#__codelineno-1-226"></a>    !unique !ordered attr EString start;
</span><span id="__span-1-227"><a id="__codelineno-1-227" name="__codelineno-1-227" href="#__codelineno-1-227"></a>  }
</span><span id="__span-1-228"><a id="__codelineno-1-228" name="__codelineno-1-228" href="#__codelineno-1-228"></a>
</span><span id="__span-1-229"><a id="__codelineno-1-229" name="__codelineno-1-229" href="#__codelineno-1-229"></a>  class UL extends ListElement {
</span><span id="__span-1-230"><a id="__codelineno-1-230" name="__codelineno-1-230" href="#__codelineno-1-230"></a>  }
</span><span id="__span-1-231"><a id="__codelineno-1-231" name="__codelineno-1-231" href="#__codelineno-1-231"></a>
</span><span id="__span-1-232"><a id="__codelineno-1-232" name="__codelineno-1-232" href="#__codelineno-1-232"></a>  class LI extends ListElement {
</span><span id="__span-1-233"><a id="__codelineno-1-233" name="__codelineno-1-233" href="#__codelineno-1-233"></a>    !unique !ordered attr EString liValue;
</span><span id="__span-1-234"><a id="__codelineno-1-234" name="__codelineno-1-234" href="#__codelineno-1-234"></a>  }
</span><span id="__span-1-235"><a id="__codelineno-1-235" name="__codelineno-1-235" href="#__codelineno-1-235"></a>
</span><span id="__span-1-236"><a id="__codelineno-1-236" name="__codelineno-1-236" href="#__codelineno-1-236"></a>  class DL {
</span><span id="__span-1-237"><a id="__codelineno-1-237" name="__codelineno-1-237" href="#__codelineno-1-237"></a>  }
</span><span id="__span-1-238"><a id="__codelineno-1-238" name="__codelineno-1-238" href="#__codelineno-1-238"></a>
</span><span id="__span-1-239"><a id="__codelineno-1-239" name="__codelineno-1-239" href="#__codelineno-1-239"></a>  class DT {
</span><span id="__span-1-240"><a id="__codelineno-1-240" name="__codelineno-1-240" href="#__codelineno-1-240"></a>  }
</span><span id="__span-1-241"><a id="__codelineno-1-241" name="__codelineno-1-241" href="#__codelineno-1-241"></a>
</span><span id="__span-1-242"><a id="__codelineno-1-242" name="__codelineno-1-242" href="#__codelineno-1-242"></a>  class DD {
</span><span id="__span-1-243"><a id="__codelineno-1-243" name="__codelineno-1-243" href="#__codelineno-1-243"></a>  }
</span><span id="__span-1-244"><a id="__codelineno-1-244" name="__codelineno-1-244" href="#__codelineno-1-244"></a>
</span><span id="__span-1-245"><a id="__codelineno-1-245" name="__codelineno-1-245" href="#__codelineno-1-245"></a>  class APPLET {
</span><span id="__span-1-246"><a id="__codelineno-1-246" name="__codelineno-1-246" href="#__codelineno-1-246"></a>    !unique !ordered attr EString applet;
</span><span id="__span-1-247"><a id="__codelineno-1-247" name="__codelineno-1-247" href="#__codelineno-1-247"></a>    !unique !ordered attr EString ~class;
</span><span id="__span-1-248"><a id="__codelineno-1-248" name="__codelineno-1-248" href="#__codelineno-1-248"></a>    !unique !ordered attr EString src;
</span><span id="__span-1-249"><a id="__codelineno-1-249" name="__codelineno-1-249" href="#__codelineno-1-249"></a>    !unique !ordered attr EString align;
</span><span id="__span-1-250"><a id="__codelineno-1-250" name="__codelineno-1-250" href="#__codelineno-1-250"></a>    !unique !ordered attr EString width;
</span><span id="__span-1-251"><a id="__codelineno-1-251" name="__codelineno-1-251" href="#__codelineno-1-251"></a>    !unique !ordered attr EString height;
</span><span id="__span-1-252"><a id="__codelineno-1-252" name="__codelineno-1-252" href="#__codelineno-1-252"></a>  }
</span><span id="__span-1-253"><a id="__codelineno-1-253" name="__codelineno-1-253" href="#__codelineno-1-253"></a>
</span><span id="__span-1-254"><a id="__codelineno-1-254" name="__codelineno-1-254" href="#__codelineno-1-254"></a>  class PARAM {
</span><span id="__span-1-255"><a id="__codelineno-1-255" name="__codelineno-1-255" href="#__codelineno-1-255"></a>    !unique !ordered attr EString name;
</span><span id="__span-1-256"><a id="__codelineno-1-256" name="__codelineno-1-256" href="#__codelineno-1-256"></a>    !unique !ordered attr EString paramValue;
</span><span id="__span-1-257"><a id="__codelineno-1-257" name="__codelineno-1-257" href="#__codelineno-1-257"></a>  }
</span><span id="__span-1-258"><a id="__codelineno-1-258" name="__codelineno-1-258" href="#__codelineno-1-258"></a>
</span><span id="__span-1-259"><a id="__codelineno-1-259" name="__codelineno-1-259" href="#__codelineno-1-259"></a>  class OBJECT {
</span><span id="__span-1-260"><a id="__codelineno-1-260" name="__codelineno-1-260" href="#__codelineno-1-260"></a>    !unique !ordered attr EString classid;
</span><span id="__span-1-261"><a id="__codelineno-1-261" name="__codelineno-1-261" href="#__codelineno-1-261"></a>    !unique !ordered attr EString ~id;
</span><span id="__span-1-262"><a id="__codelineno-1-262" name="__codelineno-1-262" href="#__codelineno-1-262"></a>    !unique !ordered attr EString data;
</span><span id="__span-1-263"><a id="__codelineno-1-263" name="__codelineno-1-263" href="#__codelineno-1-263"></a>    !unique !ordered attr EString type;
</span><span id="__span-1-264"><a id="__codelineno-1-264" name="__codelineno-1-264" href="#__codelineno-1-264"></a>    !unique !ordered attr EString standby;
</span><span id="__span-1-265"><a id="__codelineno-1-265" name="__codelineno-1-265" href="#__codelineno-1-265"></a>  }
</span><span id="__span-1-266"><a id="__codelineno-1-266" name="__codelineno-1-266" href="#__codelineno-1-266"></a>
</span><span id="__span-1-267"><a id="__codelineno-1-267" name="__codelineno-1-267" href="#__codelineno-1-267"></a>  class FRAMESET {
</span><span id="__span-1-268"><a id="__codelineno-1-268" name="__codelineno-1-268" href="#__codelineno-1-268"></a>    !unique !ordered attr EString rows;
</span><span id="__span-1-269"><a id="__codelineno-1-269" name="__codelineno-1-269" href="#__codelineno-1-269"></a>    !unique !ordered attr EString cols;
</span><span id="__span-1-270"><a id="__codelineno-1-270" name="__codelineno-1-270" href="#__codelineno-1-270"></a>    !unique !ordered attr EString framespacing;
</span><span id="__span-1-271"><a id="__codelineno-1-271" name="__codelineno-1-271" href="#__codelineno-1-271"></a>    !unique !ordered attr EString frameborder;
</span><span id="__span-1-272"><a id="__codelineno-1-272" name="__codelineno-1-272" href="#__codelineno-1-272"></a>    !unique !ordered attr EString border;
</span><span id="__span-1-273"><a id="__codelineno-1-273" name="__codelineno-1-273" href="#__codelineno-1-273"></a>  }
</span><span id="__span-1-274"><a id="__codelineno-1-274" name="__codelineno-1-274" href="#__codelineno-1-274"></a>
</span><span id="__span-1-275"><a id="__codelineno-1-275" name="__codelineno-1-275" href="#__codelineno-1-275"></a>  class FRAME {
</span><span id="__span-1-276"><a id="__codelineno-1-276" name="__codelineno-1-276" href="#__codelineno-1-276"></a>    !unique !ordered attr EString src;
</span><span id="__span-1-277"><a id="__codelineno-1-277" name="__codelineno-1-277" href="#__codelineno-1-277"></a>    !unique !ordered attr EString name;
</span><span id="__span-1-278"><a id="__codelineno-1-278" name="__codelineno-1-278" href="#__codelineno-1-278"></a>    !unique !ordered attr EString marginwidth;
</span><span id="__span-1-279"><a id="__codelineno-1-279" name="__codelineno-1-279" href="#__codelineno-1-279"></a>    !unique !ordered attr EString marginheight;
</span><span id="__span-1-280"><a id="__codelineno-1-280" name="__codelineno-1-280" href="#__codelineno-1-280"></a>    !unique !ordered attr EString scrolling;
</span><span id="__span-1-281"><a id="__codelineno-1-281" name="__codelineno-1-281" href="#__codelineno-1-281"></a>    !unique !ordered attr EString noresize;
</span><span id="__span-1-282"><a id="__codelineno-1-282" name="__codelineno-1-282" href="#__codelineno-1-282"></a>  }
</span><span id="__span-1-283"><a id="__codelineno-1-283" name="__codelineno-1-283" href="#__codelineno-1-283"></a>
</span><span id="__span-1-284"><a id="__codelineno-1-284" name="__codelineno-1-284" href="#__codelineno-1-284"></a>  class NOFRAME {
</span><span id="__span-1-285"><a id="__codelineno-1-285" name="__codelineno-1-285" href="#__codelineno-1-285"></a>  }
</span><span id="__span-1-286"><a id="__codelineno-1-286" name="__codelineno-1-286" href="#__codelineno-1-286"></a>
</span><span id="__span-1-287"><a id="__codelineno-1-287" name="__codelineno-1-287" href="#__codelineno-1-287"></a>  class IFRAME extends FRAME {
</span><span id="__span-1-288"><a id="__codelineno-1-288" name="__codelineno-1-288" href="#__codelineno-1-288"></a>  }
</span><span id="__span-1-289"><a id="__codelineno-1-289" name="__codelineno-1-289" href="#__codelineno-1-289"></a>
</span><span id="__span-1-290"><a id="__codelineno-1-290" name="__codelineno-1-290" href="#__codelineno-1-290"></a>// Based on https://github.com/SATToSE/SoTeSoLa2012/blob/master/hackathon/modisco-eclipse/org.eclipse.gmt.modisco.tool.metricsvisualizationbuilder/Metamodels/HTML.ecore
</span></code></pre></div>
<h2 id="source-model">Source Model</h2>
<h3 id="wakeup-flowchart">Wakeup Flowchart</h3>
<p>Let's turn that flowchart into an XMI representation because that is the required format for source models in YAMTL (note that this is equivalent to the Flexmi code shown on the previous page):</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="nt">&lt;flowchart:Flowchart</span><span class="w"> </span><span class="na">xmi:version=</span><span class="s">&quot;2.0&quot;</span><span class="w"> </span><span class="na">xmlns:xmi=</span><span class="s">&quot;http://www.omg.org/XMI&quot;</span><span class="w"> </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="w"> </span><span class="na">xmlns:flowchart=</span><span class="s">&quot;flowchart&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Wakeup&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Wake up&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLMxjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLMyDY6EeOwt8pm-kjW_Q _9mLz0TY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Decision&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Is it really too early?&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLMxzY6EeOwt8pm-kjW_Q _9mLz0DY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLMxjY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwzY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Sleep&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLMyDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLMxzY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Get up&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLz0DY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;begin&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLz0TY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxzY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Yes&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwzY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMyDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Some Time Passes&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwzY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLz0DY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;No&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMxDY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLz0TY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;start&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMxTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="nt">&lt;/flowchart:Flowchart&gt;</span>
</span></code></pre></div>
<h3 id="wakeup-flowchart-with-subflow">Wakeup Flowchart with Subflow</h3>
<p>Some MTL examples also transform the Flowchart's subflow elements, so, another flowchart (that contains subflow) based on the original flowchart is also defined. The flowchart model with subflow is as follows:</p>
<p><strong>Graphical Representation</strong></p>
<p><img alt="Wakeup flowchart with Subflow" src="../assets/images/wakeup-with-subflow.png" /></p>
<p><strong>Abstract Syntax in XMI</strong></p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="cp">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="nt">&lt;flowchart:Flowchart</span><span class="w"> </span><span class="na">xmi:version=</span><span class="s">&quot;2.0&quot;</span><span class="w"> </span><span class="na">xmlns:xmi=</span><span class="s">&quot;http://www.omg.org/XMI&quot;</span><span class="w"> </span><span class="na">xmlns:xsi=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span><span class="w"> </span><span class="na">xmlns:flowchart=</span><span class="s">&quot;flowchart&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Wakeup&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Wake up&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLMxjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLMyDY6EeOwt8pm-kjW_Q _9mLz0TY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Get up&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLz0DY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;begin&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLz0TY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a><span class="w">  </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Subflow&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_BYIhADZzEeOvH6AlutIRRw&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Snoozing&quot;</span><span class="nt">&gt;</span>
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a><span class="w">    </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Action&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwzY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Sleep&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLMyDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLMxzY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a><span class="w">    </span><span class="nt">&lt;nodes</span><span class="w"> </span><span class="na">xsi:type=</span><span class="s">&quot;flowchart:Decision&quot;</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Is it really too early?&quot;</span><span class="w"> </span><span class="na">outgoing=</span><span class="s">&quot;_9mLMxzY6EeOwt8pm-kjW_Q _9mLz0DY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">incoming=</span><span class="s">&quot;_9mLMxjY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a><span class="w">    </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxzY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Yes&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwzY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a><span class="w">  </span><span class="nt">&lt;/nodes&gt;</span>
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMxjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLMyDY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;Some Time Passes&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwzY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLz0DY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;No&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMwjY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMxDY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a><span class="w">  </span><span class="nt">&lt;transitions</span><span class="w"> </span><span class="na">xmi:id=</span><span class="s">&quot;_9mLz0TY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">name=</span><span class="s">&quot;start&quot;</span><span class="w"> </span><span class="na">source=</span><span class="s">&quot;_9mLMxTY6EeOwt8pm-kjW_Q&quot;</span><span class="w"> </span><span class="na">target=</span><span class="s">&quot;_9mLMwTY6EeOwt8pm-kjW_Q&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a><span class="nt">&lt;/flowchart:Flowchart&gt;</span>
</span></code></pre></div>
<h2 id="target-model">Target Model</h2>
<p>Since the problem is open-ended there is no one solution i.e. no final target model to achieve. Check out the MTL Solutions below to see the advanced functionalities (special operations and concepts) of each MTL.</p>
<h2 id="flowchart-to-html-yamtl-implementation">Flowchart to HTML - YAMTL Implementation</h2>
<p>In this tutorial, the core concepts of YAMTL transformations will be described. To do this, elements of a flowchart model will be transformed using special operations into valid HTML elements.</p>
<figure style="height:350px;width:400px">
<p><pre class="mermaid"><code>graph LR
  A[Begin] --&gt;|Start| B[Wake up];
  B --&gt; C{Is it really too early?};
  C --&gt; |Yes| D[Sleep];
  C --&gt; |No| E[Get up]
  D --&gt; |Some Time Passes| B;</code></pre>
  </p>
<figcaption>Wakeup Flowchart</figcaption>
</figure>
<p>The flowchart model (abstract representation shown in the figure above) has different types of elements: Node, Action, Decision, Transition, and Subflow.</p>
<p><strong>Node</strong> elements are the most basic elements in a flowchart. They can have any number of incoming and outgoing transitions.</p>
<p><strong>Action</strong> elements are a type of Node element. They have a value describing an action and such elements can also have any number of incoming and outgoing transitions.</p>
<p><strong>Decision</strong> elements are another type of Node element. Its value indicates a decision (if-else condition) and a decision element can have any number of incoming and outgoing transitions.</p>
<p><strong>Transition</strong> elements are those arrows (direction flow) in the flowchart figure above. They have a name attribute. A transition element <strong>must</strong> have one source Node (start of the arrow) and one target Node (end of the arrow).</p>
<p><strong>Subflow</strong> is a special Node element that contains a flowchart inside a flowchart (making it a sub-section). A subflow element has a name and all the features of a flowchart i.e. can have any number of nodes and transitions.</p>
<h3 id="basic-example">Basic Example</h3>
<p>This is a simple example that converts all flowchart elements into HTML <code>H1</code> headings:</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Flowchart2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;f&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Action2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">)</span>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Decision2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;d&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Decision</span><span class="o">)</span>
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Transition2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-4-21"><a id="__codelineno-4-21" name="__codelineno-4-21" href="#__codelineno-4-21"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-4-22"><a id="__codelineno-4-22" name="__codelineno-4-22" href="#__codelineno-4-22"></a><span class="o">])</span>
</span></code></pre></div>
<p>In this code snippet, 4 rules transform different flowchart objects: Flowchart, Action, Decision, and Transition; into H1 elements. Each rule has a name (within <code>rule('&lt;ruleName&gt;')</code> clause), an input element (with a name and type), and an output element (with a name, type and a lamda expression). The lambda expression of all rules follow the same format: assign the name of the input object to the value of the heading <code>H1</code>.</p>
<hr>

<h3 id="rule-inheritance">Rule Inheritance</h3>
<p>First, an abstract rule is defined with a set of input and output elements. Then, a child rule is declared which inherits from the abstract rule (parent) and performs the transformation. YAMTL also supports multiple rule inheritance where a child rule can inherit from multiple parent rules.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a><span class="w">    </span><span class="c1">// This parent rule is abstract, so it will not be applied directly</span>
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a><span class="w">    </span><span class="c1">// but it can be executed by its children</span>
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Flowchart2H1&#39;</span><span class="o">)</span>
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a><span class="w">            </span><span class="o">.</span><span class="na">isAbstract</span><span class="o">()</span>
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a><span class="w">            </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;e&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a><span class="w">            </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a><span class="w">                </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Flowchart &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a><span class="w">            </span><span class="o">}),</span>
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a><span class="w">    </span><span class="c1">// This child rule inherits from the previous one</span>
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Subflow2H1&#39;</span><span class="o">)</span>
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a><span class="w">            </span><span class="o">.</span><span class="na">inheritsFrom</span><span class="o">([</span><span class="s">&#39;Flowchart2H1&#39;</span><span class="o">])</span>
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a><span class="w">            </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;e&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Subflow</span><span class="o">)</span>
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a><span class="w">            </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a><span class="w">                </span><span class="c1">// R.H.S. h1.value is inherited from the parent rule</span>
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a><span class="w">                </span><span class="c1">// &#39;e&#39; object is passed to the parent rule to calculate h1.value</span>
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a><span class="w">                </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Subflow &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a><span class="w">            </span><span class="o">})</span>
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a><span class="o">])</span>
</span></code></pre></div>
<p><code>isAbstract()</code> clause is used to define an abstract rule. The abstract rule contains an input element of type <code>Flowchart</code> and an output element of H1 heading. The output object's value is updated to the input object's name with a prefix "Flowchart". A new child rule that inherits from the abstract rule using the <code>inheritsFrom(['&lt;ruleNameList&gt;'])</code> clause. The child rule <code>Subflow2H1</code> has an input element of type <code>Subflow</code> which extends <code>Flowchart</code>. Its name is <code>e</code> just like in the parent rule, meaning when the child rule is executed the input object <code>e</code>  overrides the object <code>e</code> in the parent rule. The output element's type must be the same as the parent rule. The output object's value is "Subflow " followed by the value of <code>h1</code> in the abstract rule because both rules are executed and the output objects are calculated. Thus, the final output is an H1 element of the following format:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Subflow Flowchart Snoozing&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<h4 id="rule-override">Rule Override</h4>
<p>There may be cases where you need to override the output object of the parent rule. This means that when the rule that inherits is executed, the value of the output object in the parent rule is overridden by the value of the output object calculated in the child rule. This also means that the child output object has no value at the start of execution unlike when it is inherited with no override.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-7-1"><a id="__codelineno-7-1" name="__codelineno-7-1" href="#__codelineno-7-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-7-2"><a id="__codelineno-7-2" name="__codelineno-7-2" href="#__codelineno-7-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Flowchart2H1&#39;</span><span class="o">)</span>
</span><span id="__span-7-3"><a id="__codelineno-7-3" name="__codelineno-7-3" href="#__codelineno-7-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;e&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-7-4"><a id="__codelineno-7-4" name="__codelineno-7-4" href="#__codelineno-7-4"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-5"><a id="__codelineno-7-5" name="__codelineno-7-5" href="#__codelineno-7-5"></a><span class="w">            </span><span class="c1">//Assigns the name of the flowchart to the value of the h1 element</span>
</span><span id="__span-7-6"><a id="__codelineno-7-6" name="__codelineno-7-6" href="#__codelineno-7-6"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Flowchart &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="na">name</span><span class="w"> </span>
</span><span id="__span-7-7"><a id="__codelineno-7-7" name="__codelineno-7-7" href="#__codelineno-7-7"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-7-8"><a id="__codelineno-7-8" name="__codelineno-7-8" href="#__codelineno-7-8"></a>
</span><span id="__span-7-9"><a id="__codelineno-7-9" name="__codelineno-7-9" href="#__codelineno-7-9"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Subflow2H1&#39;</span><span class="o">)</span>
</span><span id="__span-7-10"><a id="__codelineno-7-10" name="__codelineno-7-10" href="#__codelineno-7-10"></a><span class="w">        </span><span class="o">.</span><span class="na">inheritsFrom</span><span class="o">([</span><span class="s">&#39;Flowchart2H1&#39;</span><span class="o">])</span>
</span><span id="__span-7-11"><a id="__codelineno-7-11" name="__codelineno-7-11" href="#__codelineno-7-11"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;e&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Subflow</span><span class="o">)</span>
</span><span id="__span-7-12"><a id="__codelineno-7-12" name="__codelineno-7-12" href="#__codelineno-7-12"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-13"><a id="__codelineno-7-13" name="__codelineno-7-13" href="#__codelineno-7-13"></a>
</span><span id="__span-7-14"><a id="__codelineno-7-14" name="__codelineno-7-14" href="#__codelineno-7-14"></a><span class="w">            </span><span class="c1">//If h1 value is inherited then it is not null, else it is null</span>
</span><span id="__span-7-15"><a id="__codelineno-7-15" name="__codelineno-7-15" href="#__codelineno-7-15"></a><span class="w">            </span><span class="k">if</span><span class="o">(</span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">!==</span><span class="w"> </span><span class="kc">null</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-16"><a id="__codelineno-7-16" name="__codelineno-7-16" href="#__codelineno-7-16"></a><span class="w">                </span><span class="c1">//R.H.S h1.value is already calculated and inherited</span>
</span><span id="__span-7-17"><a id="__codelineno-7-17" name="__codelineno-7-17" href="#__codelineno-7-17"></a><span class="w">                </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Subflow &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span>
</span><span id="__span-7-18"><a id="__codelineno-7-18" name="__codelineno-7-18" href="#__codelineno-7-18"></a><span class="w">            </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-7-19"><a id="__codelineno-7-19" name="__codelineno-7-19" href="#__codelineno-7-19"></a><span class="w">                </span><span class="c1">//h1 is newly initialised since rule is overridden</span>
</span><span id="__span-7-20"><a id="__codelineno-7-20" name="__codelineno-7-20" href="#__codelineno-7-20"></a><span class="w">                </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Subflow &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">e</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="c1">//Overridden output object</span>
</span><span id="__span-7-21"><a id="__codelineno-7-21" name="__codelineno-7-21" href="#__codelineno-7-21"></a><span class="w">            </span><span class="o">}</span>
</span><span id="__span-7-22"><a id="__codelineno-7-22" name="__codelineno-7-22" href="#__codelineno-7-22"></a><span class="w">        </span><span class="c1">//Override the parent rule so the child rule&#39;s h1 object is used    </span>
</span><span id="__span-7-23"><a id="__codelineno-7-23" name="__codelineno-7-23" href="#__codelineno-7-23"></a><span class="w">        </span><span class="o">}).</span><span class="na">overriding</span><span class="o">()</span>
</span><span id="__span-7-24"><a id="__codelineno-7-24" name="__codelineno-7-24" href="#__codelineno-7-24"></a><span class="w">        </span><span class="c1">//Try out the above transformation without the overriding() method</span>
</span><span id="__span-7-25"><a id="__codelineno-7-25" name="__codelineno-7-25" href="#__codelineno-7-25"></a><span class="w">        </span><span class="c1">//and see the difference in inheritance behaviour   </span>
</span><span id="__span-7-26"><a id="__codelineno-7-26" name="__codelineno-7-26" href="#__codelineno-7-26"></a><span class="o">])</span>
</span></code></pre></div>
<p>To better understand the properties of the <code>overriding()</code> clause, you should see the difference in execution and output, when you use override and when you do not.</p>
<p>When you <strong>use</strong> <code>overrding()</code>:</p>
<p>The rule that inherits (<code>Subflow2H1</code>), overrides the parent rule's (<code>Flowchart2H1</code>) output object <code>h1</code> meaning its value is newly initialized (<code>null</code>), thus, the else-condition is invoked. The local input object <code>e</code> is referenced within the output block and its name (<code>e.name</code>) is retrieved to be assigned as part of a string to the value of <code>h1</code>. The output of this transformation would look like this:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-8-1"><a id="__codelineno-8-1" name="__codelineno-8-1" href="#__codelineno-8-1"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Flowchart Wakeup&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-8-2"><a id="__codelineno-8-2" name="__codelineno-8-2" href="#__codelineno-8-2"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Subflow Snoozing&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<p>When you <strong>do not use</strong> <code>overriding()</code>:</p>
<p>When the child rule is executed, the output element(s) of the parent rule is calculated first. This means that <code>h1</code> output object has a computed value in the parent rule. When you access the <code>h1</code> output object in the child rule, it references to the parent rule's <code>h1</code> output object (which contains a value). Thus, the if-condition is satisfied and the child rule's output object <code>h1</code> is assigned the value of a string and the value of <code>h1</code> object calculated within the parent rule. The main output of this transformation would be:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-9-1"><a id="__codelineno-9-1" name="__codelineno-9-1" href="#__codelineno-9-1"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Flowchart Wakeup&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-9-2"><a id="__codelineno-9-2" name="__codelineno-9-2" href="#__codelineno-9-2"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Subflow Flowchart Snoozing&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<hr>

<h3 id="lazy-rules">Lazy Rules</h3>
<p>A lazy rule is a rule that is executed after all non-lazy rules. When multiple lazy rules are defined, then the lazy rules are invoked in sequential order.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-10-1"><a id="__codelineno-10-1" name="__codelineno-10-1" href="#__codelineno-10-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-10-2"><a id="__codelineno-10-2" name="__codelineno-10-2" href="#__codelineno-10-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Flowchart2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-10-3"><a id="__codelineno-10-3" name="__codelineno-10-3" href="#__codelineno-10-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&#39;f&#39;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-10-4"><a id="__codelineno-10-4" name="__codelineno-10-4" href="#__codelineno-10-4"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&#39;div&#39;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">DIV</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-10-5"><a id="__codelineno-10-5" name="__codelineno-10-5" href="#__codelineno-10-5"></a><span class="w">            </span><span class="c1">// without LAZY: div.children.addAll(fetch(f.nodes))</span>
</span><span id="__span-10-6"><a id="__codelineno-10-6" name="__codelineno-10-6" href="#__codelineno-10-6"></a><span class="w">            </span><span class="c1">// with LAZY rules</span>
</span><span id="__span-10-7"><a id="__codelineno-10-7" name="__codelineno-10-7" href="#__codelineno-10-7"></a><span class="w">            </span><span class="n">div</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="ni">fetch</span><span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">nodes</span><span class="o">,</span><span class="w"> </span><span class="s">&#39;out&#39;</span><span class="o">,</span><span class="w"> </span><span class="s">&#39;NodeRule&#39;</span><span class="o">))</span>
</span><span id="__span-10-8"><a id="__codelineno-10-8" name="__codelineno-10-8" href="#__codelineno-10-8"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-10-9"><a id="__codelineno-10-9" name="__codelineno-10-9" href="#__codelineno-10-9"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;NodeRule&#39;</span><span class="o">)</span>
</span><span id="__span-10-10"><a id="__codelineno-10-10" name="__codelineno-10-10" href="#__codelineno-10-10"></a><span class="w">        </span><span class="o">.</span><span class="na">isUniqueLazy</span><span class="o">()</span>
</span><span id="__span-10-11"><a id="__codelineno-10-11" name="__codelineno-10-11" href="#__codelineno-10-11"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;in&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Node</span><span class="o">)</span>
</span><span id="__span-10-12"><a id="__codelineno-10-12" name="__codelineno-10-12" href="#__codelineno-10-12"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;out&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-10-13"><a id="__codelineno-10-13" name="__codelineno-10-13" href="#__codelineno-10-13"></a><span class="w">            </span><span class="n">out</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">in</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-10-14"><a id="__codelineno-10-14" name="__codelineno-10-14" href="#__codelineno-10-14"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-10-15"><a id="__codelineno-10-15" name="__codelineno-10-15" href="#__codelineno-10-15"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Transition2H1&#39;</span><span class="o">)</span>
</span><span id="__span-10-16"><a id="__codelineno-10-16" name="__codelineno-10-16" href="#__codelineno-10-16"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-10-17"><a id="__codelineno-10-17" name="__codelineno-10-17" href="#__codelineno-10-17"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-10-18"><a id="__codelineno-10-18" name="__codelineno-10-18" href="#__codelineno-10-18"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-10-19"><a id="__codelineno-10-19" name="__codelineno-10-19" href="#__codelineno-10-19"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-10-20"><a id="__codelineno-10-20" name="__codelineno-10-20" href="#__codelineno-10-20"></a><span class="o">])</span>
</span></code></pre></div>
<p>A <code>lazy</code> rule is called and not scheduled by the YAMTL engine, which may lead to different results each time the rule is executed. A <code>uniqueLazy</code> rule always outputs the same result no matter how many times it is invoked and executed. In the code snippet above, <code>Flowchart2Heading</code> rule adds some nodes to a <code>div</code> HTML block. The <code>div</code> adds children from another rule using a special <code>fetch</code> operation: <code>fetch(inputMatchedObject, outVarName, ruleName)</code>, where <code>inputMatchedObject</code> can be just a single value or a collection; <code>outVarName</code> is the name of the output object of the other rule which is being accessed; <code>ruleName</code> is the name of that other rule. In this example, <code>inputMatchedObject</code> is <code>f.nodes</code> which is a collection of <code>Node</code> objects found in the output object of the matched <code>NodeRule</code>. Since <code>NodeRule</code> has not been executed, the values of <code>div</code> are not populated just yet. Next, <code>NodeRule</code> is tagged as <code>uniqueLazy</code> so it is not executed and is skipped for now. <code>Transition2H1</code> rule transforms all <code>Transition</code> elements into <code>H1</code> headings, where the value of an <code>H1</code> element is the the name of the <code>Transition</code> passed to the input pattern. Now all non-lazy rules have been invoked so the <code>uniqueLazy</code> rule (<code>NodeRule</code>) can be executed next. All <code>Node</code> objects are transformed into <code>H1</code> HTML elements, where each <code>H1</code> output object's value is the name of the <code>Node</code> object it has been transformed from. This rule generates a collection of <code>H1</code> headings which can finally be passed to the special <code>fetch</code> operation of <code>Flowchart2Heading</code> rule. Thus, the <code>div</code> output object contains a collection of <code>H1</code> elements with names of <code>Node</code> objects as their values.</p>
<hr>

<h3 id="transient-rules">Transient Rules</h3>
<p>Transient rules are rules whose output is not persisted in the target model. They are used to perform calculations and update objects in the target model. The transient clause is used to define a transient rule.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-11-1"><a id="__codelineno-11-1" name="__codelineno-11-1" href="#__codelineno-11-1"></a><span class="c1">// an attribute shared among rules</span>
</span><span id="__span-11-2"><a id="__codelineno-11-2" name="__codelineno-11-2" href="#__codelineno-11-2"></a><span class="kt">def</span><span class="w"> </span><span class="n">count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>
</span><span id="__span-11-3"><a id="__codelineno-11-3" name="__codelineno-11-3" href="#__codelineno-11-3"></a>
</span><span id="__span-11-4"><a id="__codelineno-11-4" name="__codelineno-11-4" href="#__codelineno-11-4"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-11-5"><a id="__codelineno-11-5" name="__codelineno-11-5" href="#__codelineno-11-5"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Transitions2Div&#39;</span><span class="o">)</span>
</span><span id="__span-11-6"><a id="__codelineno-11-6" name="__codelineno-11-6" href="#__codelineno-11-6"></a><span class="w">        </span><span class="o">.</span><span class="na">isTransient</span><span class="o">()</span>
</span><span id="__span-11-7"><a id="__codelineno-11-7" name="__codelineno-11-7" href="#__codelineno-11-7"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-11-8"><a id="__codelineno-11-8" name="__codelineno-11-8" href="#__codelineno-11-8"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;div&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">DIV</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-11-9"><a id="__codelineno-11-9" name="__codelineno-11-9" href="#__codelineno-11-9"></a><span class="w">            </span><span class="n">count</span><span class="o">++</span>
</span><span id="__span-11-10"><a id="__codelineno-11-10" name="__codelineno-11-10" href="#__codelineno-11-10"></a><span class="w">            </span><span class="n">println</span><span class="o">(</span><span class="n">count</span><span class="o">)</span>
</span><span id="__span-11-11"><a id="__codelineno-11-11" name="__codelineno-11-11" href="#__codelineno-11-11"></a><span class="w">        </span><span class="o">}),</span><span class="w">         </span>
</span><span id="__span-11-12"><a id="__codelineno-11-12" name="__codelineno-11-12" href="#__codelineno-11-12"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;FlowChart&#39;</span><span class="o">)</span>
</span><span id="__span-11-13"><a id="__codelineno-11-13" name="__codelineno-11-13" href="#__codelineno-11-13"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;f&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-11-14"><a id="__codelineno-11-14" name="__codelineno-11-14" href="#__codelineno-11-14"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-11-15"><a id="__codelineno-11-15" name="__codelineno-11-15" href="#__codelineno-11-15"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;The ${f.name} flowchart has ${count} transitions&quot;</span>
</span><span id="__span-11-16"><a id="__codelineno-11-16" name="__codelineno-11-16" href="#__codelineno-11-16"></a><span class="w">                        </span><span class="o">.</span><span class="na">toString</span><span class="o">()</span>
</span><span id="__span-11-17"><a id="__codelineno-11-17" name="__codelineno-11-17" href="#__codelineno-11-17"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-11-18"><a id="__codelineno-11-18" name="__codelineno-11-18" href="#__codelineno-11-18"></a><span class="o">])</span>
</span><span id="__span-11-19"><a id="__codelineno-11-19" name="__codelineno-11-19" href="#__codelineno-11-19"></a><span class="o">])</span>
</span></code></pre></div>
<p>In the above example, the <code>Transitions2Div</code> rule is declared as transient. The <code>out</code> block is used to update the <code>count</code> variable with the number of children in the <code>div</code> output object, which happens automatically due to the number of transition elements (inputs) that match the rule. The <code>FlowChart</code> rule is not transient and it has an input object of type <code>Flowchart</code> and an output object of type <code>H1</code>. The value of the <code>H1</code> output object is a string that contains the name of the flowchart and the value of the <code>count</code> variable.</p>
<hr>

<h3 id="rule-filtering">Rule Filtering</h3>
<p>In this example, a filter condition (which is a lambda expression) is applied to a rule to transform selected input objects.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-12-1"><a id="__codelineno-12-1" name="__codelineno-12-1" href="#__codelineno-12-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-12-2"><a id="__codelineno-12-2" name="__codelineno-12-2" href="#__codelineno-12-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;SelectedTransitions2Text&#39;</span><span class="o">)</span>
</span><span id="__span-12-3"><a id="__codelineno-12-3" name="__codelineno-12-3" href="#__codelineno-12-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-12-4"><a id="__codelineno-12-4" name="__codelineno-12-4" href="#__codelineno-12-4"></a><span class="w">        </span><span class="o">.</span><span class="na">filter</span><span class="o">{</span><span class="w">    </span>
</span><span id="__span-12-5"><a id="__codelineno-12-5" name="__codelineno-12-5" href="#__codelineno-12-5"></a><span class="w">            </span><span class="c1">//Filter input objects that satify this condition</span>
</span><span id="__span-12-6"><a id="__codelineno-12-6" name="__codelineno-12-6" href="#__codelineno-12-6"></a><span class="w">            </span><span class="n">t</span><span class="o">.</span><span class="na">source</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s">&quot;Is it really too early?&quot;</span><span class="w">      </span>
</span><span id="__span-12-7"><a id="__codelineno-12-7" name="__codelineno-12-7" href="#__codelineno-12-7"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-12-8"><a id="__codelineno-12-8" name="__codelineno-12-8" href="#__codelineno-12-8"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;p&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">P</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-12-9"><a id="__codelineno-12-9" name="__codelineno-12-9" href="#__codelineno-12-9"></a><span class="w">            </span><span class="n">p</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-12-10"><a id="__codelineno-12-10" name="__codelineno-12-10" href="#__codelineno-12-10"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-12-11"><a id="__codelineno-12-11" name="__codelineno-12-11" href="#__codelineno-12-11"></a><span class="o">])</span>
</span></code></pre></div>
<p>The rule <code>SelectedTransitions2Text</code> has an input element as a <code>Transition</code> object. A filter condition is applied to check the name of the transition's source. If the transition source name is "Is it really too early?" then only those input <code>Transition</code> objects will be transformed. The output element is an HTML paragraph element <code>p</code> whose value is updated to the name of the input <code>Transition</code> object.</p>
<hr>

<h3 id="derived-input-elements">Derived Input Elements</h3>
<p>Derived elements are derived from input elements that have been matched in preceding input patterns of a rule. Here, the matching process is manually described instead of the automatic matching in matched elements.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-13-1"><a id="__codelineno-13-1" name="__codelineno-13-1" href="#__codelineno-13-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-13-2"><a id="__codelineno-13-2" name="__codelineno-13-2" href="#__codelineno-13-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Action2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-13-3"><a id="__codelineno-13-3" name="__codelineno-13-3" href="#__codelineno-13-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">)</span>
</span><span id="__span-13-4"><a id="__codelineno-13-4" name="__codelineno-13-4" href="#__codelineno-13-4"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">).</span><span class="na">derivedWith</span><span class="o">{</span><span class="w"> </span>
</span><span id="__span-13-5"><a id="__codelineno-13-5" name="__codelineno-13-5" href="#__codelineno-13-5"></a><span class="w">            </span><span class="kt">def</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="na">eContainer</span><span class="o">()</span>
</span><span id="__span-13-6"><a id="__codelineno-13-6" name="__codelineno-13-6" href="#__codelineno-13-6"></a><span class="w">            </span><span class="n">f</span><span class="o">.</span><span class="na">nodes</span><span class="o">.</span><span class="na">first</span><span class="o">()</span>
</span><span id="__span-13-7"><a id="__codelineno-13-7" name="__codelineno-13-7" href="#__codelineno-13-7"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-13-8"><a id="__codelineno-13-8" name="__codelineno-13-8" href="#__codelineno-13-8"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-13-9"><a id="__codelineno-13-9" name="__codelineno-13-9" href="#__codelineno-13-9"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">b</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-13-10"><a id="__codelineno-13-10" name="__codelineno-13-10" href="#__codelineno-13-10"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-13-11"><a id="__codelineno-13-11" name="__codelineno-13-11" href="#__codelineno-13-11"></a><span class="o">])</span>
</span></code></pre></div>
<p>The rule <code>Action2Heading</code> contains an input object <code>b</code> that is derived from input object <code>a</code>'s first <code>Action</code> node. The output object <code>H1</code> is an HTML heading element with the value as the name of <code>b</code> input object. Note, that in the 'wakeup' flowchart model there are 4 <code>Action</code> elements so each of those is passed through the input patterns but since the <code>b</code> input object is derived from the first <code>Node</code> object of the <code>f</code> flowchart (<code>a</code>'s eContainer is the Flowchart object), the output will always be the name of the first node ('Wake up'). The result in the target model would look like this:</p>
<div class="language-xml highlight"><pre><span></span><code><span id="__span-14-1"><a id="__codelineno-14-1" name="__codelineno-14-1" href="#__codelineno-14-1"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Wake up&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-2"><a id="__codelineno-14-2" name="__codelineno-14-2" href="#__codelineno-14-2"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Wake up&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-3"><a id="__codelineno-14-3" name="__codelineno-14-3" href="#__codelineno-14-3"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Wake up&quot;</span><span class="nt">/&gt;</span>
</span><span id="__span-14-4"><a id="__codelineno-14-4" name="__codelineno-14-4" href="#__codelineno-14-4"></a><span class="nt">&lt;H1</span><span class="w"> </span><span class="na">value=</span><span class="s">&quot;Wake up&quot;</span><span class="nt">/&gt;</span>
</span></code></pre></div>
<hr>

<h3 id="multiple-sources">Multiple Sources</h3>
<p>If you want to transform multiple input objects into a single output object, you can do so by using the <code>in</code> clause multiple times. The input objects are matched in the order they are declared in the rule. Remember, the total number of input objects created is the <strong>cartesian product</strong> of the input objects of each input pattern. Usually, a filter is applied to the rule to ensure that the input objects are matched correctly and specifically chosen input objects are transformed.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-15-1"><a id="__codelineno-15-1" name="__codelineno-15-1" href="#__codelineno-15-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-15-2"><a id="__codelineno-15-2" name="__codelineno-15-2" href="#__codelineno-15-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;SelectedTransitions2Text&#39;</span><span class="o">)</span>
</span><span id="__span-15-3"><a id="__codelineno-15-3" name="__codelineno-15-3" href="#__codelineno-15-3"></a><span class="w">        </span><span class="c1">// This rule contains 3 input patterns</span>
</span><span id="__span-15-4"><a id="__codelineno-15-4" name="__codelineno-15-4" href="#__codelineno-15-4"></a><span class="w">        </span><span class="c1">// Multiple sources create a cartesian product of output elements</span>
</span><span id="__span-15-5"><a id="__codelineno-15-5" name="__codelineno-15-5" href="#__codelineno-15-5"></a><span class="w">        </span><span class="c1">// So filters are needed to avoid creating unwanted elements</span>
</span><span id="__span-15-6"><a id="__codelineno-15-6" name="__codelineno-15-6" href="#__codelineno-15-6"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">)</span>
</span><span id="__span-15-7"><a id="__codelineno-15-7" name="__codelineno-15-7" href="#__codelineno-15-7"></a><span class="w">        </span><span class="o">.</span><span class="na">filter</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-15-8"><a id="__codelineno-15-8" name="__codelineno-15-8" href="#__codelineno-15-8"></a><span class="w">            </span><span class="c1">// Filter out those actions that do not have outgoing transitions</span>
</span><span id="__span-15-9"><a id="__codelineno-15-9" name="__codelineno-15-9" href="#__codelineno-15-9"></a><span class="w">            </span><span class="o">!</span><span class="n">a</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span>
</span><span id="__span-15-10"><a id="__codelineno-15-10" name="__codelineno-15-10" href="#__codelineno-15-10"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-15-11"><a id="__codelineno-15-11" name="__codelineno-15-11" href="#__codelineno-15-11"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;d&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Decision</span><span class="o">)</span>
</span><span id="__span-15-12"><a id="__codelineno-15-12" name="__codelineno-15-12" href="#__codelineno-15-12"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-15-13"><a id="__codelineno-15-13" name="__codelineno-15-13" href="#__codelineno-15-13"></a><span class="w">        </span><span class="o">.</span><span class="na">filter</span><span class="o">{</span><span class="w">                        </span>
</span><span id="__span-15-14"><a id="__codelineno-15-14" name="__codelineno-15-14" href="#__codelineno-15-14"></a><span class="w">                </span><span class="c1">// Only transform actions that match the input transition name</span>
</span><span id="__span-15-15"><a id="__codelineno-15-15" name="__codelineno-15-15" href="#__codelineno-15-15"></a><span class="w">                </span><span class="c1">// OR</span>
</span><span id="__span-15-16"><a id="__codelineno-15-16" name="__codelineno-15-16" href="#__codelineno-15-16"></a><span class="w">                </span><span class="c1">// decision elements that contain the input transition name</span>
</span><span id="__span-15-17"><a id="__codelineno-15-17" name="__codelineno-15-17" href="#__codelineno-15-17"></a><span class="w">                </span><span class="n">a</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">name</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">t</span><span class="o">.</span><span class="na">name</span><span class="o">)</span>
</span><span id="__span-15-18"><a id="__codelineno-15-18" name="__codelineno-15-18" href="#__codelineno-15-18"></a><span class="w">            </span><span class="o">}</span>
</span><span id="__span-15-19"><a id="__codelineno-15-19" name="__codelineno-15-19" href="#__codelineno-15-19"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;p&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">P</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-15-20"><a id="__codelineno-15-20" name="__codelineno-15-20" href="#__codelineno-15-20"></a>
</span><span id="__span-15-21"><a id="__codelineno-15-21" name="__codelineno-15-21" href="#__codelineno-15-21"></a><span class="w">        </span><span class="c1">// Create &lt;p&gt; elements with source, transition, and target info for action and decision elements</span>
</span><span id="__span-15-22"><a id="__codelineno-15-22" name="__codelineno-15-22" href="#__codelineno-15-22"></a><span class="w">        </span><span class="c1">// Multiple duplicates of the decision element will be created showcasing the cartesian product behaviour</span>
</span><span id="__span-15-23"><a id="__codelineno-15-23" name="__codelineno-15-23" href="#__codelineno-15-23"></a><span class="w">            </span><span class="k">if</span><span class="o">(</span><span class="n">a</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">name</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-15-24"><a id="__codelineno-15-24" name="__codelineno-15-24" href="#__codelineno-15-24"></a><span class="w">                </span><span class="n">p</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Source: ${a.name}; Transition: ${t.name}; Target: ${t.target.name}&quot;</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span>
</span><span id="__span-15-25"><a id="__codelineno-15-25" name="__codelineno-15-25" href="#__codelineno-15-25"></a><span class="w">            </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="o">(</span><span class="n">d</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">name</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-15-26"><a id="__codelineno-15-26" name="__codelineno-15-26" href="#__codelineno-15-26"></a><span class="w">                </span><span class="n">p</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Source: ${d.name}; Transition: ${t.name}; Target: ${t.target.name}&quot;</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span>
</span><span id="__span-15-27"><a id="__codelineno-15-27" name="__codelineno-15-27" href="#__codelineno-15-27"></a><span class="w">            </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="o">(</span><span class="n">d</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">name</span><span class="o">[</span><span class="mi">1</span><span class="o">]</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-15-28"><a id="__codelineno-15-28" name="__codelineno-15-28" href="#__codelineno-15-28"></a><span class="w">                </span><span class="n">p</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Source: ${d.name}; Transition: ${t.name}; Target: ${t.target.name}&quot;</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span>
</span><span id="__span-15-29"><a id="__codelineno-15-29" name="__codelineno-15-29" href="#__codelineno-15-29"></a><span class="w">            </span><span class="o">}</span>
</span><span id="__span-15-30"><a id="__codelineno-15-30" name="__codelineno-15-30" href="#__codelineno-15-30"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-15-31"><a id="__codelineno-15-31" name="__codelineno-15-31" href="#__codelineno-15-31"></a><span class="o">])</span>
</span></code></pre></div>
<p>In the above example, the rule <code>SelectedTransitions2Text</code> has 3 input objects: <code>a</code> of type <code>Action</code>, <code>d</code> of type <code>Decision</code> and <code>t</code> of type <code>Transition</code>. A filter is applied to the rule to ensure that the input objects are matched correctly. The filter condition checks if the <code>Action</code> object has an outgoing transition and if the name of the first outgoing transition is the same as the name of the <code>Transition</code> object. If the condition is satisfied, then the output object <code>p</code> is updated to a string that contains the name of the <code>Action</code> object, the name of the <code>Transition</code> object and the name of the target of the <code>Transition</code> object. If the second condition (regarding equivalent names) is not satisfied, then the filter condition checks if the <code>Decision</code> object has an outgoing transition and if the name of the outgoing transition is the same as the name of the <code>Transition</code> object. If the condition is satisfied, then the output object <code>p</code> is updated to a string that contains the name of the <code>Decision</code> object, the name of the <code>Transition</code> object, and the name of the target of the <code>Transition</code> object. If the condition is not satisfied, then the filter condition checks if the <code>Decision</code> object has a second outgoing transition and if the name of the second outgoing transition is the same as the name of the <code>Transition</code> object. If the condition is satisfied, then the output object <code>p</code> is updated to a string that contains the name of the <code>Decision</code> object, the name of the <code>Transition</code> object, and the name of the target of the <code>Transition</code> object.</p>
<hr>

<h3 id="mulitple-targets">Mulitple Targets</h3>
<p>If you want to transform a single input object into multiple output objects, you can do so by using the <code>out</code> clause multiple times. The output objects are created in the order they are declared in the rule.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-16-1"><a id="__codelineno-16-1" name="__codelineno-16-1" href="#__codelineno-16-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-16-2"><a id="__codelineno-16-2" name="__codelineno-16-2" href="#__codelineno-16-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Action2Elements&#39;</span><span class="o">)</span>
</span><span id="__span-16-3"><a id="__codelineno-16-3" name="__codelineno-16-3" href="#__codelineno-16-3"></a><span class="w">        </span><span class="c1">// This rule has 1 input pattern and 3 output patterns</span>
</span><span id="__span-16-4"><a id="__codelineno-16-4" name="__codelineno-16-4" href="#__codelineno-16-4"></a><span class="w">        </span><span class="c1">// All output objects are mapped to the same input object</span>
</span><span id="__span-16-5"><a id="__codelineno-16-5" name="__codelineno-16-5" href="#__codelineno-16-5"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">).</span><span class="na">filter</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="o">!</span><span class="n">a</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()</span><span class="w"> </span><span class="o">}</span>
</span><span id="__span-16-6"><a id="__codelineno-16-6" name="__codelineno-16-6" href="#__codelineno-16-6"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;title&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-16-7"><a id="__codelineno-16-7" name="__codelineno-16-7" href="#__codelineno-16-7"></a><span class="w">            </span><span class="n">title</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-16-8"><a id="__codelineno-16-8" name="__codelineno-16-8" href="#__codelineno-16-8"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-16-9"><a id="__codelineno-16-9" name="__codelineno-16-9" href="#__codelineno-16-9"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;link&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">A</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-16-10"><a id="__codelineno-16-10" name="__codelineno-16-10" href="#__codelineno-16-10"></a><span class="w">            </span><span class="n">link</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Next steps&quot;</span>
</span><span id="__span-16-11"><a id="__codelineno-16-11" name="__codelineno-16-11" href="#__codelineno-16-11"></a><span class="w">            </span><span class="n">link</span><span class="o">.</span><span class="na">ahref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="na">outgoing</span><span class="o">.</span><span class="na">first</span><span class="o">().</span><span class="na">target</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-16-12"><a id="__codelineno-16-12" name="__codelineno-16-12" href="#__codelineno-16-12"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-16-13"><a id="__codelineno-16-13" name="__codelineno-16-13" href="#__codelineno-16-13"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;container&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">DIV</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-16-14"><a id="__codelineno-16-14" name="__codelineno-16-14" href="#__codelineno-16-14"></a><span class="w">            </span><span class="c1">// output vars of the rule can be referred directly</span>
</span><span id="__span-16-15"><a id="__codelineno-16-15" name="__codelineno-16-15" href="#__codelineno-16-15"></a><span class="w">            </span><span class="n">container</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">title</span><span class="o">)</span>
</span><span id="__span-16-16"><a id="__codelineno-16-16" name="__codelineno-16-16" href="#__codelineno-16-16"></a><span class="w">            </span><span class="n">container</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">link</span><span class="o">)</span>
</span><span id="__span-16-17"><a id="__codelineno-16-17" name="__codelineno-16-17" href="#__codelineno-16-17"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-16-18"><a id="__codelineno-16-18" name="__codelineno-16-18" href="#__codelineno-16-18"></a><span class="o">])</span>
</span></code></pre></div>
<p>In this scenario, there are 3 output objects: <code>title</code>, <code>link</code>, and <code>container</code>. The <code>title</code> output object is an HTML heading element <code>H1</code> whose value is the name of the input object <code>a</code>. The <code>link</code> output object is an HTML hyperlink element <code>A</code> whose value is "Next steps" and the reference link is the name of the first outgoing transition's target. The <code>container</code> output object is an HTML div element <code>DIV</code> that contains the <code>title</code> and <code>link</code> output objects as its children. The output of this transformation would look like this. The overall transformation converts <code>Action</code> elements into a <code>DIV</code> element that contains a <code>H1</code> element and an <code>A</code> element.</p>
<hr>

<h3 id="to-many-operation">To Many Operation</h3>
<p>Matched rules can be declared with the modifier <code>toMany</code> that enables repeated rule application for the same input object subject to a valid termination condition <code>toManyCap</code> based on the match count. The argument passed to <code>toManyCap</code> is the number of output patterns in that rule. With <code>toMany</code> rules, the same rule may match the same object several times. In this case, we can refer to each (occurrence of a) match by the order in which they occurred: <code>fetch(inputMatchedObject, i)</code> will return the output object that was created by the <code>i</code>th match.</p>
<p>When the output pattern consists of several object patterns, we need to specify the output object that we want to fetch: <code>fetch(inputMatchedObject, outVarName)</code> will return the output object corresponding to the output variable <code>outVarName</code>. If a matched rule with a complex output pattern is also declared as <code>toMany</code>, then we can retrieve the output object with the expression <code>fetch(inputMatchedObject, outVarName, i)</code>.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-17-1"><a id="__codelineno-17-1" name="__codelineno-17-1" href="#__codelineno-17-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-17-2"><a id="__codelineno-17-2" name="__codelineno-17-2" href="#__codelineno-17-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Action2Elements&#39;</span><span class="o">)</span>
</span><span id="__span-17-3"><a id="__codelineno-17-3" name="__codelineno-17-3" href="#__codelineno-17-3"></a><span class="w">        </span><span class="o">.</span><span class="na">toMany</span><span class="o">()</span>
</span><span id="__span-17-4"><a id="__codelineno-17-4" name="__codelineno-17-4" href="#__codelineno-17-4"></a><span class="w">        </span><span class="o">.</span><span class="na">toManyCap</span><span class="o">({</span><span class="mi">2</span><span class="o">})</span>
</span><span id="__span-17-5"><a id="__codelineno-17-5" name="__codelineno-17-5" href="#__codelineno-17-5"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;d&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Decision</span><span class="o">)</span>
</span><span id="__span-17-6"><a id="__codelineno-17-6" name="__codelineno-17-6" href="#__codelineno-17-6"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;title&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-17-7"><a id="__codelineno-17-7" name="__codelineno-17-7" href="#__codelineno-17-7"></a><span class="w">            </span><span class="c1">// The value will differ every time the rule is re-applied</span>
</span><span id="__span-17-8"><a id="__codelineno-17-8" name="__codelineno-17-8" href="#__codelineno-17-8"></a><span class="w">            </span><span class="n">title</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="na">name</span><span class="w"> </span>
</span><span id="__span-17-9"><a id="__codelineno-17-9" name="__codelineno-17-9" href="#__codelineno-17-9"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-17-10"><a id="__codelineno-17-10" name="__codelineno-17-10" href="#__codelineno-17-10"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;link&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">A</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-17-11"><a id="__codelineno-17-11" name="__codelineno-17-11" href="#__codelineno-17-11"></a><span class="w">            </span><span class="c1">// Access the current number of rule application</span>
</span><span id="__span-17-12"><a id="__codelineno-17-12" name="__codelineno-17-12" href="#__codelineno-17-12"></a><span class="w">            </span><span class="c1">// using matchCount variable</span>
</span><span id="__span-17-13"><a id="__codelineno-17-13" name="__codelineno-17-13" href="#__codelineno-17-13"></a><span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="o">(</span><span class="n">matchCount</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-17-14"><a id="__codelineno-17-14" name="__codelineno-17-14" href="#__codelineno-17-14"></a><span class="w">                </span><span class="n">link</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Transition link 1&quot;</span>
</span><span id="__span-17-15"><a id="__codelineno-17-15" name="__codelineno-17-15" href="#__codelineno-17-15"></a><span class="w">                </span><span class="n">link</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">fetch</span><span class="o">(</span><span class="n">d</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;title&quot;</span><span class="o">,</span><span class="w"> </span><span class="mi">0</span><span class="o">).</span><span class="na">value</span>
</span><span id="__span-17-16"><a id="__codelineno-17-16" name="__codelineno-17-16" href="#__codelineno-17-16"></a><span class="w">                </span><span class="n">link</span><span class="o">.</span><span class="na">ahref</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="na">outgoing</span><span class="o">[</span><span class="mi">0</span><span class="o">].</span><span class="na">name</span>
</span><span id="__span-17-17"><a id="__codelineno-17-17" name="__codelineno-17-17" href="#__codelineno-17-17"></a><span class="w">            </span><span class="o">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-17-18"><a id="__codelineno-17-18" name="__codelineno-17-18" href="#__codelineno-17-18"></a><span class="w">                </span><span class="n">link</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Transition link 2&quot;</span>
</span><span id="__span-17-19"><a id="__codelineno-17-19" name="__codelineno-17-19" href="#__codelineno-17-19"></a><span class="w">                </span><span class="n">link</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ni">fetch</span><span class="o">(</span><span class="n">d</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;title&quot;</span><span class="o">,</span><span class="w"> </span><span class="mi">1</span><span class="o">).</span><span class="na">value</span>
</span><span id="__span-17-20"><a id="__codelineno-17-20" name="__codelineno-17-20" href="#__codelineno-17-20"></a><span class="w">                </span><span class="n">link</span><span class="o">.</span><span class="na">ahref</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">d</span><span class="o">.</span><span class="na">outgoing</span><span class="o">[</span><span class="mi">1</span><span class="o">].</span><span class="na">name</span>
</span><span id="__span-17-21"><a id="__codelineno-17-21" name="__codelineno-17-21" href="#__codelineno-17-21"></a><span class="w">            </span><span class="o">}</span>
</span><span id="__span-17-22"><a id="__codelineno-17-22" name="__codelineno-17-22" href="#__codelineno-17-22"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-17-23"><a id="__codelineno-17-23" name="__codelineno-17-23" href="#__codelineno-17-23"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;container&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">DIV</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
</span><span id="__span-17-24"><a id="__codelineno-17-24" name="__codelineno-17-24" href="#__codelineno-17-24"></a><span class="w">            </span><span class="c1">// Fetch the correct title and link for the current rule matching</span>
</span><span id="__span-17-25"><a id="__codelineno-17-25" name="__codelineno-17-25" href="#__codelineno-17-25"></a><span class="w">            </span><span class="n">container</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Decision ${matchCount+1}&quot;</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span>
</span><span id="__span-17-26"><a id="__codelineno-17-26" name="__codelineno-17-26" href="#__codelineno-17-26"></a><span class="w">            </span><span class="n">container</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="ni">fetch</span><span class="o">(</span><span class="n">d</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;title&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">matchCount</span><span class="o">))</span>
</span><span id="__span-17-27"><a id="__codelineno-17-27" name="__codelineno-17-27" href="#__codelineno-17-27"></a><span class="w">            </span><span class="n">container</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="ni">fetch</span><span class="o">(</span><span class="n">d</span><span class="o">,</span><span class="w"> </span><span class="s">&quot;link&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">matchCount</span><span class="o">))</span>
</span><span id="__span-17-28"><a id="__codelineno-17-28" name="__codelineno-17-28" href="#__codelineno-17-28"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-17-29"><a id="__codelineno-17-29" name="__codelineno-17-29" href="#__codelineno-17-29"></a>
</span><span id="__span-17-30"><a id="__codelineno-17-30" name="__codelineno-17-30" href="#__codelineno-17-30"></a><span class="o">])</span>
</span></code></pre></div>
<p>The above excerpt contains just one rule <code>Action2Elements</code> with one input pattern and multiple output patterns. <code>toManyCap({2})</code> means that the same rule is applied twice. This is useful to execute when the rule is needed to be executed multiple times to get different output or to get the same output multiple times. The <code>title</code> output object is an HTML heading element <code>H1</code> whose value is the name of the input object <code>d</code>. The <code>link</code> output object is an HTML hyperlink element <code>A</code>. <code>matchCount</code> variable store the value of the current cycle of rule application, it is always between 0 and n (<code>toManyCap{n}</code>). In the first cycle of rule application, the <code>link</code> name, value (fetched from <code>title</code> object of the same cycle <code>0</code>) and the reference link (name of the first outgoing transition's name) is set. In the second cycle, we implement similar but different attributes to showcase the use of <code>matchCount</code>. The <code>container</code> output object is an HTML div element <code>DIV</code> that contains the <code>title</code> and <code>link</code> output objects as its children. The corresponding value of the <code>i</code>th iteration of the rule application must be applied (in the third argument of <code>fetch()</code>), which is best set as <code>matchCount</code> variable. This means that in each cycle of rule execution, the title and link elements generated in that cycle are added to the container.</p>
<hr>

<h3 id="end-with-block">End With Block</h3>
<p>If you want elements of a rule to interact with each other, you can do so at the end of a rule execution using an optional operation called <code>endWith</code>. An <code>endWith</code> block allows the user to group all elements of a rule, update objects and perform calculations using lamda expressions.</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-18-1"><a id="__codelineno-18-1" name="__codelineno-18-1" href="#__codelineno-18-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-18-2"><a id="__codelineno-18-2" name="__codelineno-18-2" href="#__codelineno-18-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Flowchart2Body&#39;</span><span class="o">)</span>
</span><span id="__span-18-3"><a id="__codelineno-18-3" name="__codelineno-18-3" href="#__codelineno-18-3"></a><span class="w">        </span><span class="c1">//Notice there is one source and multiple targets</span>
</span><span id="__span-18-4"><a id="__codelineno-18-4" name="__codelineno-18-4" href="#__codelineno-18-4"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;f&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-18-5"><a id="__codelineno-18-5" name="__codelineno-18-5" href="#__codelineno-18-5"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;b&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">B</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
</span><span id="__span-18-6"><a id="__codelineno-18-6" name="__codelineno-18-6" href="#__codelineno-18-6"></a><span class="w">            </span><span class="c1">//Flowchart&#39;s name is turned into bold</span>
</span><span id="__span-18-7"><a id="__codelineno-18-7" name="__codelineno-18-7" href="#__codelineno-18-7"></a><span class="w">            </span><span class="n">b</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="na">name</span><span class="w"> </span>
</span><span id="__span-18-8"><a id="__codelineno-18-8" name="__codelineno-18-8" href="#__codelineno-18-8"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-18-9"><a id="__codelineno-18-9" name="__codelineno-18-9" href="#__codelineno-18-9"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;div&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">DIV</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-18-10"><a id="__codelineno-18-10" name="__codelineno-18-10" href="#__codelineno-18-10"></a><span class="w">            </span><span class="c1">//A div block contains all model transitions </span>
</span><span id="__span-18-11"><a id="__codelineno-18-11" name="__codelineno-18-11" href="#__codelineno-18-11"></a><span class="w">            </span><span class="n">div</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">transitions</span><span class="o">)</span><span class="w"> </span>
</span><span id="__span-18-12"><a id="__codelineno-18-12" name="__codelineno-18-12" href="#__codelineno-18-12"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-18-13"><a id="__codelineno-18-13" name="__codelineno-18-13" href="#__codelineno-18-13"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;body&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">BODY</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-18-14"><a id="__codelineno-18-14" name="__codelineno-18-14" href="#__codelineno-18-14"></a><span class="w">            </span><span class="c1">//All flowchart nodes are added to the body</span>
</span><span id="__span-18-15"><a id="__codelineno-18-15" name="__codelineno-18-15" href="#__codelineno-18-15"></a><span class="w">            </span><span class="n">body</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">f</span><span class="o">.</span><span class="na">nodes</span><span class="o">)</span>
</span><span id="__span-18-16"><a id="__codelineno-18-16" name="__codelineno-18-16" href="#__codelineno-18-16"></a><span class="w">        </span><span class="o">})</span><span class="c1">//Last block of the transformation to be executed</span>
</span><span id="__span-18-17"><a id="__codelineno-18-17" name="__codelineno-18-17" href="#__codelineno-18-17"></a><span class="w">        </span><span class="o">.</span><span class="na">endWith</span><span class="o">({</span>
</span><span id="__span-18-18"><a id="__codelineno-18-18" name="__codelineno-18-18" href="#__codelineno-18-18"></a><span class="w">            </span><span class="c1">//You can access the input object(s)</span>
</span><span id="__span-18-19"><a id="__codelineno-18-19" name="__codelineno-18-19" href="#__codelineno-18-19"></a><span class="w">            </span><span class="n">body</span><span class="o">.</span><span class="na">text</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-18-20"><a id="__codelineno-18-20" name="__codelineno-18-20" href="#__codelineno-18-20"></a>
</span><span id="__span-18-21"><a id="__codelineno-18-21" name="__codelineno-18-21" href="#__codelineno-18-21"></a><span class="w">            </span><span class="c1">//Similarly, you can access all output object(s)</span>
</span><span id="__span-18-22"><a id="__codelineno-18-22" name="__codelineno-18-22" href="#__codelineno-18-22"></a><span class="w">            </span><span class="n">body</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">b</span><span class="o">)</span><span class="w"> </span>
</span><span id="__span-18-23"><a id="__codelineno-18-23" name="__codelineno-18-23" href="#__codelineno-18-23"></a><span class="w">            </span><span class="n">body</span><span class="o">.</span><span class="na">children</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">div</span><span class="o">)</span>
</span><span id="__span-18-24"><a id="__codelineno-18-24" name="__codelineno-18-24" href="#__codelineno-18-24"></a><span class="w">    </span><span class="o">})</span>
</span><span id="__span-18-25"><a id="__codelineno-18-25" name="__codelineno-18-25" href="#__codelineno-18-25"></a><span class="o">])</span>
</span></code></pre></div>
<p>In the transformation example above, one source element <code>f</code> is transformed into multiple targets: <code>b</code> is a <code>Bold</code> HTML element that is assigned the flowchart's name as its value, <code>div</code> output object has all transitions of the flowchart <code>f</code> as its children, and <code>body</code> output object has all flowchart <code>f</code> nodes as its children. Once, all output blocks are executed, the <code>endWith</code> block is invoked. In the <code>endWith</code> block, a lambda expression is defined that updates the <code>body</code> output object's text field with the <code>f</code> flowchart's name and the <code>body</code> object also adds new children: <code>b</code> output object and <code>div</code> output object. These updates are shown in the output, found in the target model.</p>
<hr>

<h3 id="rule-priority">Rule Priority</h3>
<p>As the title suggests, you can prioritize rules to be executed in the order you prefer using the <code>priority(P)</code> clause where <code>P</code> is a whole number (e.g. 0, 1, 2,...) and the rules are executed in ascending values of <code>P</code> i.e. rules with lower <code>P</code> values have higher priority. </p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-19-1"><a id="__codelineno-19-1" name="__codelineno-19-1" href="#__codelineno-19-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-19-2"><a id="__codelineno-19-2" name="__codelineno-19-2" href="#__codelineno-19-2"></a><span class="w">    </span><span class="c1">//Run this rule first</span>
</span><span id="__span-19-3"><a id="__codelineno-19-3" name="__codelineno-19-3" href="#__codelineno-19-3"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Flowchart2Title&#39;</span><span class="o">)</span>
</span><span id="__span-19-4"><a id="__codelineno-19-4" name="__codelineno-19-4" href="#__codelineno-19-4"></a><span class="w">        </span><span class="o">.</span><span class="na">priority</span><span class="o">(</span><span class="mi">1</span><span class="o">)</span>
</span><span id="__span-19-5"><a id="__codelineno-19-5" name="__codelineno-19-5" href="#__codelineno-19-5"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;f&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Flowchart</span><span class="o">)</span>
</span><span id="__span-19-6"><a id="__codelineno-19-6" name="__codelineno-19-6" href="#__codelineno-19-6"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;title&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">TITLE</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-19-7"><a id="__codelineno-19-7" name="__codelineno-19-7" href="#__codelineno-19-7"></a><span class="w">            </span><span class="n">title</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">f</span><span class="o">.</span><span class="na">name</span><span class="w"> </span>
</span><span id="__span-19-8"><a id="__codelineno-19-8" name="__codelineno-19-8" href="#__codelineno-19-8"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-19-9"><a id="__codelineno-19-9" name="__codelineno-19-9" href="#__codelineno-19-9"></a><span class="w">    </span><span class="c1">//Run this third</span>
</span><span id="__span-19-10"><a id="__codelineno-19-10" name="__codelineno-19-10" href="#__codelineno-19-10"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Action2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-19-11"><a id="__codelineno-19-11" name="__codelineno-19-11" href="#__codelineno-19-11"></a><span class="w">        </span><span class="o">.</span><span class="na">priority</span><span class="o">(</span><span class="mi">3</span><span class="o">)</span>
</span><span id="__span-19-12"><a id="__codelineno-19-12" name="__codelineno-19-12" href="#__codelineno-19-12"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">)</span>
</span><span id="__span-19-13"><a id="__codelineno-19-13" name="__codelineno-19-13" href="#__codelineno-19-13"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h2&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H2</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-19-14"><a id="__codelineno-19-14" name="__codelineno-19-14" href="#__codelineno-19-14"></a><span class="w">            </span><span class="n">h2</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;H2 heading for Action: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">a</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-19-15"><a id="__codelineno-19-15" name="__codelineno-19-15" href="#__codelineno-19-15"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-19-16"><a id="__codelineno-19-16" name="__codelineno-19-16" href="#__codelineno-19-16"></a><span class="w">    </span><span class="c1">//Run this rule second          </span>
</span><span id="__span-19-17"><a id="__codelineno-19-17" name="__codelineno-19-17" href="#__codelineno-19-17"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Decision2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-19-18"><a id="__codelineno-19-18" name="__codelineno-19-18" href="#__codelineno-19-18"></a><span class="w">        </span><span class="o">.</span><span class="na">priority</span><span class="o">(</span><span class="mi">2</span><span class="o">)</span>
</span><span id="__span-19-19"><a id="__codelineno-19-19" name="__codelineno-19-19" href="#__codelineno-19-19"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;d&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Decision</span><span class="o">)</span>
</span><span id="__span-19-20"><a id="__codelineno-19-20" name="__codelineno-19-20" href="#__codelineno-19-20"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-19-21"><a id="__codelineno-19-21" name="__codelineno-19-21" href="#__codelineno-19-21"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;H1 heading for Decision: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">d</span><span class="o">.</span><span class="na">name</span><span class="w"> </span>
</span><span id="__span-19-22"><a id="__codelineno-19-22" name="__codelineno-19-22" href="#__codelineno-19-22"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-19-23"><a id="__codelineno-19-23" name="__codelineno-19-23" href="#__codelineno-19-23"></a><span class="w">    </span><span class="c1">//Finally run this rule</span>
</span><span id="__span-19-24"><a id="__codelineno-19-24" name="__codelineno-19-24" href="#__codelineno-19-24"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Transition2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-19-25"><a id="__codelineno-19-25" name="__codelineno-19-25" href="#__codelineno-19-25"></a><span class="w">        </span><span class="o">.</span><span class="na">priority</span><span class="o">(</span><span class="mi">4</span><span class="o">)</span>
</span><span id="__span-19-26"><a id="__codelineno-19-26" name="__codelineno-19-26" href="#__codelineno-19-26"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-19-27"><a id="__codelineno-19-27" name="__codelineno-19-27" href="#__codelineno-19-27"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h3&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H3</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-19-28"><a id="__codelineno-19-28" name="__codelineno-19-28" href="#__codelineno-19-28"></a><span class="w">            </span><span class="n">h3</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;H3 heading for Transition: &quot;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">t</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-19-29"><a id="__codelineno-19-29" name="__codelineno-19-29" href="#__codelineno-19-29"></a><span class="w">        </span><span class="o">})</span><span class="w">  </span>
</span><span id="__span-19-30"><a id="__codelineno-19-30" name="__codelineno-19-30" href="#__codelineno-19-30"></a><span class="o">])</span>
</span></code></pre></div>
<p>In the MT definition above, the flow of execution for all the rules is:</p>
<ol>
<li><code>Flowchart2Title</code></li>
<li><code>Decision2Heading</code></li>
<li><code>Action2Heading</code></li>
<li><code>Transition2Heading</code></li>
</ol>
<p>So you can expect the output of this transformation to also be ordered in the above manner within the target model.</p>
<hr>

<h3 id="helpers">Helpers</h3>
<p>Helpers offer reusable expressions for rules. They can be used to define static attributes and operations, and contextual operations.</p>
<ul>
<li>A <strong>static attribute</strong> is a constant value that can be used in a rule. It is defined using the <code>staticAttribute('&lt;attributeName&gt;', { &lt;attributeValue&gt; })</code> clause. The attribute value can be a primitive value or an <code>EObject</code>. The attribute can be accessed in a rule using the <code>&lt;attributeName&gt;</code> variable. The power of this helper can be displayed using an allInstances(<code>EClass</code>) operation within the helper definition.</li>
<li>A <strong>static operation</strong> is a static method which is defined for the class. It is defined using the <code>staticOperation('&lt;operationName&gt;', { &lt;operationBody&gt; })</code> clause. The operation body is a lambda expression that has a list of parameters specified as an arguments map (<code>argMap</code>) which must return a value.  The operation can be accessed in a rule using the <code>&lt;operationName&gt;</code> variable.</li>
<li>A <strong>contextual operation</strong> is a bi-function that allows you to manipulate an argument object (could be an input or output object) and an argument map (which can be passed in between a rule and a helper). This a method invoked on a contextual instance of an object (first argument of the operation). It is defined using the <code>contextualOperation('&lt;operationName&gt;', { &lt;operationBody&gt; })</code> clause. The contextual operation body is a lambda expression that can contain two main arguments. The operation can be accessed in a rule using the <code>c_op</code> variable. The contextual operation is used to access the contextual instance of the input object and it must return either an <code>EObject</code> or a primitive value. The contextual instance is the input object that is matched in the input pattern of the rule. The contextual instance can be accessed in the operation body using the <code>obj</code> variable.</li>
</ul>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-20-1"><a id="__codelineno-20-1" name="__codelineno-20-1" href="#__codelineno-20-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-20-2"><a id="__codelineno-20-2" name="__codelineno-20-2" href="#__codelineno-20-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Action2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-20-3"><a id="__codelineno-20-3" name="__codelineno-20-3" href="#__codelineno-20-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;a&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">)</span>
</span><span id="__span-20-4"><a id="__codelineno-20-4" name="__codelineno-20-4" href="#__codelineno-20-4"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-20-5"><a id="__codelineno-20-5" name="__codelineno-20-5" href="#__codelineno-20-5"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">att</span><span class="o">.</span><span class="na">toString</span><span class="o">()</span>
</span><span id="__span-20-6"><a id="__codelineno-20-6" name="__codelineno-20-6" href="#__codelineno-20-6"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-20-7"><a id="__codelineno-20-7" name="__codelineno-20-7" href="#__codelineno-20-7"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Decision2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-20-8"><a id="__codelineno-20-8" name="__codelineno-20-8" href="#__codelineno-20-8"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;d&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Decision</span><span class="o">)</span>
</span><span id="__span-20-9"><a id="__codelineno-20-9" name="__codelineno-20-9" href="#__codelineno-20-9"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-20-10"><a id="__codelineno-20-10" name="__codelineno-20-10" href="#__codelineno-20-10"></a><span class="w">            </span><span class="c1">//Call &#39;op&#39; helper and pass the decision object as a key map</span>
</span><span id="__span-20-11"><a id="__codelineno-20-11" name="__codelineno-20-11" href="#__codelineno-20-11"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">op</span><span class="o">([</span><span class="s">&#39;obj&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">d</span><span class="o">])</span>
</span><span id="__span-20-12"><a id="__codelineno-20-12" name="__codelineno-20-12" href="#__codelineno-20-12"></a><span class="w">        </span><span class="o">}),</span>
</span><span id="__span-20-13"><a id="__codelineno-20-13" name="__codelineno-20-13" href="#__codelineno-20-13"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Transition2Heading&#39;</span><span class="o">)</span>
</span><span id="__span-20-14"><a id="__codelineno-20-14" name="__codelineno-20-14" href="#__codelineno-20-14"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;t&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-20-15"><a id="__codelineno-20-15" name="__codelineno-20-15" href="#__codelineno-20-15"></a><span class="w">        </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-20-16"><a id="__codelineno-20-16" name="__codelineno-20-16" href="#__codelineno-20-16"></a><span class="w">            </span><span class="c1">//Call &#39;c_op&#39; helper and pass the transition object as a key map</span>
</span><span id="__span-20-17"><a id="__codelineno-20-17" name="__codelineno-20-17" href="#__codelineno-20-17"></a><span class="w">            </span><span class="c1">//Also pass a suffix increment argument to the contextual operation</span>
</span><span id="__span-20-18"><a id="__codelineno-20-18" name="__codelineno-20-18" href="#__codelineno-20-18"></a><span class="w">            </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">c_op</span><span class="o">(</span><span class="n">t</span><span class="o">,</span><span class="w"> </span><span class="o">[</span><span class="s">&#39;suffix&#39;</span><span class="o">:</span><span class="w"> </span><span class="s">&quot;_${i++}&quot;</span><span class="o">])</span>
</span><span id="__span-20-19"><a id="__codelineno-20-19" name="__codelineno-20-19" href="#__codelineno-20-19"></a><span class="w">        </span><span class="o">})</span>
</span><span id="__span-20-20"><a id="__codelineno-20-20" name="__codelineno-20-20" href="#__codelineno-20-20"></a><span class="o">])</span>
</span><span id="__span-20-21"><a id="__codelineno-20-21" name="__codelineno-20-21" href="#__codelineno-20-21"></a>
</span><span id="__span-20-22"><a id="__codelineno-20-22" name="__codelineno-20-22" href="#__codelineno-20-22"></a><span class="kd">helperStore</span><span class="o">([</span>
</span><span id="__span-20-23"><a id="__codelineno-20-23" name="__codelineno-20-23" href="#__codelineno-20-23"></a><span class="w">    </span><span class="nc">staticAttribute</span><span class="o">(</span><span class="s">&#39;att&#39;</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"> </span>
</span><span id="__span-20-24"><a id="__codelineno-20-24" name="__codelineno-20-24" href="#__codelineno-20-24"></a><span class="w">        </span><span class="kt">def</span><span class="w"> </span><span class="n">actionList</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">[]</span>
</span><span id="__span-20-25"><a id="__codelineno-20-25" name="__codelineno-20-25" href="#__codelineno-20-25"></a><span class="w">        </span><span class="k">for</span><span class="w"> </span><span class="o">(</span><span class="n">anAction</span><span class="w"> </span><span class="k">in</span><span class="w"> </span><span class="n">allInstances</span><span class="o">(</span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Action</span><span class="o">))</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-20-26"><a id="__codelineno-20-26" name="__codelineno-20-26" href="#__codelineno-20-26"></a><span class="w">            </span><span class="n">actionList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">anAction</span><span class="o">.</span><span class="na">name</span><span class="o">)</span>
</span><span id="__span-20-27"><a id="__codelineno-20-27" name="__codelineno-20-27" href="#__codelineno-20-27"></a><span class="w">        </span><span class="o">}</span>
</span><span id="__span-20-28"><a id="__codelineno-20-28" name="__codelineno-20-28" href="#__codelineno-20-28"></a>
</span><span id="__span-20-29"><a id="__codelineno-20-29" name="__codelineno-20-29" href="#__codelineno-20-29"></a><span class="w">        </span><span class="c1">//returns all instances of Action elements from the source model</span>
</span><span id="__span-20-30"><a id="__codelineno-20-30" name="__codelineno-20-30" href="#__codelineno-20-30"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">actionList</span>
</span><span id="__span-20-31"><a id="__codelineno-20-31" name="__codelineno-20-31" href="#__codelineno-20-31"></a><span class="w">    </span><span class="o">}),</span>
</span><span id="__span-20-32"><a id="__codelineno-20-32" name="__codelineno-20-32" href="#__codelineno-20-32"></a><span class="w">    </span><span class="nc">staticOperation</span><span class="o">(</span><span class="s">&#39;op&#39;</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">argsMap</span><span class="w"> </span><span class="o">-&gt;</span>
</span><span id="__span-20-33"><a id="__codelineno-20-33" name="__codelineno-20-33" href="#__codelineno-20-33"></a><span class="w">        </span><span class="c1">//returns the argument &#39;obj&#39;</span>
</span><span id="__span-20-34"><a id="__codelineno-20-34" name="__codelineno-20-34" href="#__codelineno-20-34"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">argsMap</span><span class="o">.</span><span class="na">obj</span><span class="o">.</span><span class="na">name</span>
</span><span id="__span-20-35"><a id="__codelineno-20-35" name="__codelineno-20-35" href="#__codelineno-20-35"></a><span class="w">    </span><span class="o">}),</span>
</span><span id="__span-20-36"><a id="__codelineno-20-36" name="__codelineno-20-36" href="#__codelineno-20-36"></a><span class="w">    </span><span class="nc">contextualOperation</span><span class="o">(</span><span class="s">&#39;c_op&#39;</span><span class="o">,</span><span class="w"> </span><span class="o">{</span><span class="w"> </span><span class="n">obj</span><span class="o">,</span><span class="w"> </span><span class="n">argsMap</span><span class="w"> </span><span class="o">-&gt;</span>
</span><span id="__span-20-37"><a id="__codelineno-20-37" name="__codelineno-20-37" href="#__codelineno-20-37"></a><span class="w">        </span><span class="c1">//returns the name of the contextual instance &#39;obj&#39; and argument &#39;suffix&#39;</span>
</span><span id="__span-20-38"><a id="__codelineno-20-38" name="__codelineno-20-38" href="#__codelineno-20-38"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">obj</span><span class="o">.</span><span class="na">name</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">argsMap</span><span class="o">[</span><span class="s">&#39;suffix&#39;</span><span class="o">]</span>
</span><span id="__span-20-39"><a id="__codelineno-20-39" name="__codelineno-20-39" href="#__codelineno-20-39"></a><span class="w">    </span><span class="o">})</span>
</span><span id="__span-20-40"><a id="__codelineno-20-40" name="__codelineno-20-40" href="#__codelineno-20-40"></a><span class="o">])</span>
</span></code></pre></div>
<p>In the example above, all flowchart elements are transformed into <code>H1</code> HTML headings. Within the <code>staticAttribute()</code> helper function, the <code>att</code> attribute returns a list of all instances of <code>Action</code> element in the source model. which is used in the <code>Action2Heading</code> rule. The <code>op</code> static operation returns the name of the <code>Decision</code> object <code>d</code> (passed as the value of a key map) which is used in the <code>Decision2Heading</code> rule. The <code>c_op</code> contextual operation returns the name of the <code>Transition</code> object appended by the value of the <code>suffix</code> argument (<code>i</code> increment counter) which is used in the <code>Transition2Heading</code> rule. This MT definition showcases all types of helpers and how they can be used in rules.</p>
<hr>

<h3 id="model-queries">Model Queries</h3>
<p>A model query is a rule that has an input pattern and no output pattern. It may have an <code>endWith</code> block to report error messages or compute metrics. The <code>query()</code> clause is used to define a model query. The transformation definition for a model query would look like this:</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-21-1"><a id="__codelineno-21-1" name="__codelineno-21-1" href="#__codelineno-21-1"></a><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-21-2"><a id="__codelineno-21-2" name="__codelineno-21-2" href="#__codelineno-21-2"></a><span class="w">    </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Transition&#39;</span><span class="o">)</span>
</span><span id="__span-21-3"><a id="__codelineno-21-3" name="__codelineno-21-3" href="#__codelineno-21-3"></a><span class="w">        </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&#39;t&#39;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Transition</span><span class="o">)</span>
</span><span id="__span-21-4"><a id="__codelineno-21-4" name="__codelineno-21-4" href="#__codelineno-21-4"></a><span class="w">        </span><span class="o">.</span><span class="na">query</span><span class="o">()</span>
</span><span id="__span-21-5"><a id="__codelineno-21-5" name="__codelineno-21-5" href="#__codelineno-21-5"></a><span class="w">        </span><span class="o">.</span><span class="na">endWith</span><span class="o">{</span>
</span><span id="__span-21-6"><a id="__codelineno-21-6" name="__codelineno-21-6" href="#__codelineno-21-6"></a><span class="w">            </span><span class="n">println</span><span class="o">(</span><span class="s">&quot;processed successfully&quot;</span><span class="o">)</span>
</span><span id="__span-21-7"><a id="__codelineno-21-7" name="__codelineno-21-7" href="#__codelineno-21-7"></a><span class="w">        </span><span class="o">}</span><span class="w">                </span>
</span><span id="__span-21-8"><a id="__codelineno-21-8" name="__codelineno-21-8" href="#__codelineno-21-8"></a><span class="w">    </span><span class="o">])</span>
</span></code></pre></div>
<p>Model queries require additional configuration when you execute the YAMTL module:</p>
<div class="language-groovy highlight"><pre><span></span><code><span id="__span-22-1"><a id="__codelineno-22-1" name="__codelineno-22-1" href="#__codelineno-22-1"></a><span class="kt">def</span><span class="w"> </span><span class="n">mm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YAMTLModule</span><span class="o">.</span><span class="na">preloadMetamodel</span><span class="o">(</span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/flowchart.ecore&#39;</span><span class="o">)</span>
</span><span id="__span-22-2"><a id="__codelineno-22-2" name="__codelineno-22-2" href="#__codelineno-22-2"></a><span class="kt">def</span><span class="w"> </span><span class="n">query</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Query</span><span class="o">(</span><span class="n">mm</span><span class="o">.</span><span class="na">contents</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span>
</span><span id="__span-22-3"><a id="__codelineno-22-3" name="__codelineno-22-3" href="#__codelineno-22-3"></a><span class="n">YAMTLGroovyExtensions</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
</span><span id="__span-22-4"><a id="__codelineno-22-4" name="__codelineno-22-4" href="#__codelineno-22-4"></a><span class="n">query</span><span class="o">.</span><span class="na">selectedExecutionPhases</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ExecutionPhase</span><span class="o">.</span><span class="na">MATCH_ONLY</span>
</span><span id="__span-22-5"><a id="__codelineno-22-5" name="__codelineno-22-5" href="#__codelineno-22-5"></a><span class="n">query</span><span class="o">.</span><span class="na">loadInputModels</span><span class="o">([</span><span class="s1">&#39;in&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/wakeup.xmi&#39;</span><span class="o">])</span>
</span><span id="__span-22-6"><a id="__codelineno-22-6" name="__codelineno-22-6" href="#__codelineno-22-6"></a><span class="n">query</span><span class="o">.</span><span class="na">execute</span><span class="o">()</span>
</span></code></pre></div>
<p>The <code>selectedExecutionPhases</code> variable is set to <code>MATCH_ONLY</code> to only execute the input pattern of the model query. The <code>loadInputModels()</code> function is used to load the input model. The <code>execute()</code> function is used to execute the model query. The <code>endWith</code> block is executed after the input pattern is matched which outputs a message to the console.</p>
<hr>

<h3 id="module-composition">Module Composition</h3>
<p>You also have the capability to extend a YAMTL module by inheriting from it. This is called module composition. The <code>extends</code> clause is used to inherit from a YAMTL module. The transformation definition for module composition would look like this:</p>
<div class="language-yamtl-groovy highlight"><pre><span></span><code><span id="__span-23-1"><a id="__codelineno-23-1" name="__codelineno-23-1" href="#__codelineno-23-1"></a><span class="kd">class</span><span class="w"> </span><span class="nc">ModuleComposition</span><span class="w"> </span><span class="kd">extends</span><span class="w"> </span><span class="n">Inheritance</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-23-2"><a id="__codelineno-23-2" name="__codelineno-23-2" href="#__codelineno-23-2"></a><span class="w">    </span><span class="kd">public</span><span class="w"> </span><span class="n">ModuleComposition</span><span class="o">(</span><span class="nb">EPackage</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">,</span><span class="w"> </span><span class="nb">EPackage</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">)</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-23-3"><a id="__codelineno-23-3" name="__codelineno-23-3" href="#__codelineno-23-3"></a><span class="w">        </span><span class="kd">super</span><span class="o">(</span><span class="n">flowchartPk</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">)</span>
</span><span id="__span-23-4"><a id="__codelineno-23-4" name="__codelineno-23-4" href="#__codelineno-23-4"></a>
</span><span id="__span-23-5"><a id="__codelineno-23-5" name="__codelineno-23-5" href="#__codelineno-23-5"></a><span class="w">        </span><span class="kd">ruleStore</span><span class="o">([</span>
</span><span id="__span-23-6"><a id="__codelineno-23-6" name="__codelineno-23-6" href="#__codelineno-23-6"></a><span class="w">            </span><span class="nc">rule</span><span class="o">(</span><span class="s">&#39;Subflow2H1&#39;</span><span class="o">)</span>
</span><span id="__span-23-7"><a id="__codelineno-23-7" name="__codelineno-23-7" href="#__codelineno-23-7"></a><span class="w">                </span><span class="o">.</span><span class="na">inheritsFrom</span><span class="o">([</span><span class="s">&#39;Flowchart2H1&#39;</span><span class="o">])</span>
</span><span id="__span-23-8"><a id="__codelineno-23-8" name="__codelineno-23-8" href="#__codelineno-23-8"></a><span class="w">                </span><span class="o">.</span><span class="cp">in</span><span class="o">(</span><span class="s">&quot;e&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">flowchartPk</span><span class="o">.</span><span class="na">Subflow</span><span class="o">)</span>
</span><span id="__span-23-9"><a id="__codelineno-23-9" name="__codelineno-23-9" href="#__codelineno-23-9"></a><span class="w">                </span><span class="o">.</span><span class="cp">out</span><span class="o">(</span><span class="s">&quot;h1&quot;</span><span class="o">,</span><span class="w"> </span><span class="n">htmlPk</span><span class="o">.</span><span class="na">H1</span><span class="o">,</span><span class="w"> </span><span class="o">{</span>
</span><span id="__span-23-10"><a id="__codelineno-23-10" name="__codelineno-23-10" href="#__codelineno-23-10"></a><span class="w">                    </span><span class="n">h1</span><span class="o">.</span><span class="na">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;${h1.value}, where name of subflow is ${e.name}&quot;</span>
</span><span id="__span-23-11"><a id="__codelineno-23-11" name="__codelineno-23-11" href="#__codelineno-23-11"></a><span class="w">                                </span><span class="o">.</span><span class="na">toString</span><span class="o">()</span><span class="w">                         </span>
</span><span id="__span-23-12"><a id="__codelineno-23-12" name="__codelineno-23-12" href="#__codelineno-23-12"></a><span class="w">                </span><span class="o">})</span>
</span><span id="__span-23-13"><a id="__codelineno-23-13" name="__codelineno-23-13" href="#__codelineno-23-13"></a><span class="w">        </span><span class="o">])</span>
</span><span id="__span-23-14"><a id="__codelineno-23-14" name="__codelineno-23-14" href="#__codelineno-23-14"></a><span class="o">}}</span>
</span></code></pre></div>
<p><code>ModuleComposition</code> module extends the <code>Inheritance</code> module, which allows a rule to inherit from other rule(s) from a different module. The <code>inheritsFrom()</code> clause is used to inherit from a rule. The <code>Subflow2H1</code> rule inherits from the <code>Flowchart2H1</code> rule. The <code>h1</code> output object is updated to a string that contains the value of the <code>h1</code> output object from the <code>Flowchart2H1</code> rule and the name of the <code>Subflow</code> object <code>e</code>. The <code>ModuleComposition</code> module can be executed in the same way as the <code>Inheritance</code> module.</p>
<hr>

<h2 id="transformation-test-script">Transformation Test Script</h2>
<p>The test script is responsible for loading source and target metamodels, initializing the MT definition, loading soure model into the transformation and executing it, and saving the output in the target model.</p>
<div class="language-groovy highlight"><pre><span></span><code><span id="__span-24-1"><a id="__codelineno-24-1" name="__codelineno-24-1" href="#__codelineno-24-1"></a><span class="c1">// model transformation execution</span>
</span><span id="__span-24-2"><a id="__codelineno-24-2" name="__codelineno-24-2" href="#__codelineno-24-2"></a><span class="kt">def</span><span class="w"> </span><span class="n">srcRes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YAMTLModule</span><span class="o">.</span><span class="na">preloadMetamodel</span><span class="o">(</span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/flowchart.ecore&#39;</span><span class="o">)</span><span class="w"> </span>
</span><span id="__span-24-3"><a id="__codelineno-24-3" name="__codelineno-24-3" href="#__codelineno-24-3"></a><span class="kt">def</span><span class="w"> </span><span class="n">tgtRes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">YAMTLModule</span><span class="o">.</span><span class="na">preloadMetamodel</span><span class="o">(</span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/html.ecore&#39;</span><span class="o">)</span>
</span><span id="__span-24-4"><a id="__codelineno-24-4" name="__codelineno-24-4" href="#__codelineno-24-4"></a>
</span><span id="__span-24-5"><a id="__codelineno-24-5" name="__codelineno-24-5" href="#__codelineno-24-5"></a><span class="kt">def</span><span class="w"> </span><span class="n">xform</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="o">&lt;</span><span class="n">groovyClass</span><span class="o">&gt;(</span><span class="n">srcRes</span><span class="o">.</span><span class="na">contents</span><span class="o">[</span><span class="mi">0</span><span class="o">],</span><span class="w"> </span><span class="n">tgtRes</span><span class="o">.</span><span class="na">contents</span><span class="o">[</span><span class="mi">0</span><span class="o">])</span>
</span><span id="__span-24-6"><a id="__codelineno-24-6" name="__codelineno-24-6" href="#__codelineno-24-6"></a><span class="n">YAMTLGroovyExtensions</span><span class="o">.</span><span class="na">init</span><span class="o">(</span><span class="k">this</span><span class="o">)</span>
</span><span id="__span-24-7"><a id="__codelineno-24-7" name="__codelineno-24-7" href="#__codelineno-24-7"></a><span class="n">xform</span><span class="o">.</span><span class="na">loadInputModels</span><span class="o">([</span><span class="s1">&#39;in&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/wakeup.xmi&#39;</span><span class="o">])</span>
</span><span id="__span-24-8"><a id="__codelineno-24-8" name="__codelineno-24-8" href="#__codelineno-24-8"></a><span class="n">xform</span><span class="o">.</span><span class="na">execute</span><span class="o">()</span>
</span><span id="__span-24-9"><a id="__codelineno-24-9" name="__codelineno-24-9" href="#__codelineno-24-9"></a><span class="n">xform</span><span class="o">.</span><span class="na">saveOutputModels</span><span class="o">([</span><span class="s1">&#39;out&#39;</span><span class="o">:</span><span class="w"> </span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/&lt;outputFileName&gt;.xmi&#39;</span><span class="o">])</span>
</span><span id="__span-24-10"><a id="__codelineno-24-10" name="__codelineno-24-10" href="#__codelineno-24-10"></a>
</span><span id="__span-24-11"><a id="__codelineno-24-11" name="__codelineno-24-11" href="#__codelineno-24-11"></a><span class="c1">// test assertion</span>
</span><span id="__span-24-12"><a id="__codelineno-24-12" name="__codelineno-24-12" href="#__codelineno-24-12"></a><span class="kt">def</span><span class="w"> </span><span class="n">actualModel</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="o">.</span><span class="na">getOutputModel</span><span class="o">(</span><span class="s1">&#39;out&#39;</span><span class="o">)</span>
</span><span id="__span-24-13"><a id="__codelineno-24-13" name="__codelineno-24-13" href="#__codelineno-24-13"></a><span class="n">EMFComparator</span><span class="w"> </span><span class="n">comparator</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">EMFComparator</span><span class="o">();</span>
</span><span id="__span-24-14"><a id="__codelineno-24-14" name="__codelineno-24-14" href="#__codelineno-24-14"></a><span class="c1">// Load the expected model using the identical output metamodel from the transformation.</span>
</span><span id="__span-24-15"><a id="__codelineno-24-15" name="__codelineno-24-15" href="#__codelineno-24-15"></a><span class="c1">// Essentially, use the same in-memory metamodel.</span>
</span><span id="__span-24-16"><a id="__codelineno-24-16" name="__codelineno-24-16" href="#__codelineno-24-16"></a><span class="n">xform</span><span class="o">.</span><span class="na">loadMetamodelResource</span><span class="o">(</span><span class="n">tgtRes</span><span class="o">)</span><span class="w"> </span>
</span><span id="__span-24-17"><a id="__codelineno-24-17" name="__codelineno-24-17" href="#__codelineno-24-17"></a><span class="kt">def</span><span class="w"> </span><span class="n">expectedResource</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">xform</span><span class="o">.</span><span class="na">loadModel</span><span class="o">(</span><span class="n">BASE_PATH</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;/&lt;expectedOutputFileName&gt;.xmi&#39;</span><span class="o">,</span><span class="w"> </span><span class="kc">false</span><span class="o">)</span>
</span><span id="__span-24-18"><a id="__codelineno-24-18" name="__codelineno-24-18" href="#__codelineno-24-18"></a><span class="kt">def</span><span class="w"> </span><span class="n">assertionResult</span><span class="w"> </span><span class="o">=</span><span class="w">  </span><span class="n">comparator</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="n">expectedResource</span><span class="o">.</span><span class="na">getContents</span><span class="o">(),</span><span class="w"> </span><span class="n">actualModel</span><span class="o">.</span><span class="na">getContents</span><span class="o">())</span><span class="w"> </span>
</span><span id="__span-24-19"><a id="__codelineno-24-19" name="__codelineno-24-19" href="#__codelineno-24-19"></a><span class="n">assertTrue</span><span class="o">(</span><span class="n">assertionResult</span><span class="o">);</span>
</span></code></pre></div>
<p>First, both source and target metamodels are each loaded as a resource using a <code>YAMTLModule</code> function called <code>loadMetamodel(&lt;'projectPath'&gt;)</code>. <code>.ecore</code> files and their components are accessed using the <code>resourceName.contents[0]</code> clause. Note that <code>BASE_PATH</code> is just a global variable (with the value 'model' in this case) containing base directory name. <code>xform</code> variable initializes a new MT definition if a valid Groovy class name and parameters (source and target metamodels) are provided. Next, the input model is loaded using project path and the transformation is executed. The output is saved within the target model in the location (path) provided.</p>
<p>The test assertion is performed using the <code>EMFComparator</code> package which compares the expected and actual output models. The expected model is loaded from the 'model' directory. The <code>assertionResult</code> variable is a boolean that is true if the expected and actual models are equal. The assertion is performed using the <code>assertTrue()</code> function. In case, the assertion fails, it means the project is not configured correctly or the transformation definition was changed to give a different output.</p>
<h2 id="development-platforms">Development Platforms</h2>
<p>Go to the <a href="https://github.com/yamtl/examples">YAMTL examples</a> GitHub repository and clone it. The root directory is the base of all YAMTL example projects, and you will need to import this directory to configure and build the Gradle project.  You can import the project into an IDE of your choice. The following steps will provide details on how to set up the example project on Eclipse, IntelliJ, and VSCode.</p>
<p>YAMTL uses Groovy scripts to define the models and transformations so generally any IDE will need some Groovy support through extensions/plug-ins. Make sure to have YAMTL correctly configured or do the necessary steps found in the <a href="../yamtl.md#workspace-configuration">YAMTL Workspace Configuration</a> section before you run the project.</p>
<h3 id="eclipse"><strong>Eclipse</strong></h3>
<p>In Eclipse, click on <code>File  Import  Existing Gradle Projects into Workspace  Select root directory of the Git repo  Finish</code>. This will import and load the project in the IDE.</p>
<p>Head over to the <code>FlowchartToHTML</code> module within Eclipse, right-click on a test script of your choice in the <code>src/test/groovy</code> folder then <code>Run as  JUnit Test</code>. Once the test is completed, a new output file (XMI format) will be generated in the <code>model</code> directory. Examine this file.</p>
<h3 id="intellij"><strong>IntelliJ</strong></h3>
<p>Within IntelliJ, go to <code>File  Open</code> and open the project at the root directory of the Git repository.</p>
<p>Right-click on <code>src/test/groovy/flowchartToHtmlExamples</code> folder (within the <code>FlowchartToHTML</code> project directory), then 'Run Tests...'. </p>
<p>Alternatively, click on the green run button in the top bar which builds the project and generates output files of all transformations in the <code>model</code> directory. </p>
<h3 id="vscode"><strong>VSCode</strong></h3>
<p>In VSCode, import the project at the root directory of the Git repository by doing <code>File  Open</code>.</p>
<p>After you have imported the <code>FlowchartToHTML</code> project into the workspace, click on the Gradle icon in the left sidebar. Choose, the <code>FlowhchartToHTML</code> project and then perform <code>Tasks   build  clean</code>. Do <code>Tasks  build  build</code> to build the entire Gradle project (it also runs all test scripts that execute the transformations). </p>
<p>Once the project is successfully built, all output files will be generated in the <code>model</code> directory. Examine these files.</p>
<h2 id="references">References</h2>
<ul>
<li><a href="https://dl.acm.org/doi/10.1145/3239372.3239386">YAMTL Syntax</a></li>
<li><a href="https://link.springer.com/article/10.1007/s10009-020-00583-y">YAMTL Incremental Support</a></li>
<li><a href="https://arturboronat.github.io/yamtl/">YAMTL Original Documentation</a></li>
</ul>

  <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">November 5, 2023</span>
      
    
  </small>
</div>


  


  



                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
      <div class="md-consent" data-md-component="consent" id="__consent" hidden>
        <div class="md-consent__overlay"></div>
        <aside class="md-consent__inner">
          <form class="md-consent__form md-grid md-typeset" name="consent">
            

  
    
  




  


<h4>Cookie consent</h4>
<p>We use cookies to recognize your repeated visits and preferences, as well as to measure the effectiveness of our documentation and whether users find what they're searching for. With your consent, you're helping us to make our documentation better.</p>
<input class="md-toggle" type="checkbox" id="__settings" >
<div class="md-consent__settings">
  <ul class="task-list">
    
      
      
        
        
      
      <li class="task-list-item">
        <label class="task-list-control">
          <input type="checkbox" name="analytics" checked>
          <span class="task-list-indicator"></span>
          Google Analytics
        </label>
      </li>
    
  </ul>
</div>
<div class="md-consent__controls">
  
    
      <button class="md-button md-button--primary">Accept</button>
    
    
    
  
    
    
    
      <label class="md-button" for="__settings">Manage settings</label>
    
  
</div>
          </form>
        </aside>
      </div>
      <script>var consent=__md_get("__consent");if(consent)for(var input of document.forms.consent.elements)input.name&&(input.checked=consent[input.name]||!1);else"file:"!==location.protocol&&setTimeout(function(){document.querySelector("[data-md-component=consent]").hidden=!1},250);var action,form=document.forms.consent;for(action of["submit","reset"])form.addEventListener(action,function(e){if(e.preventDefault(),"reset"===e.type)for(var n of document.forms.consent.elements)n.name&&(n.checked=!1);__md_set("__consent",Object.fromEntries(Array.from(new FormData(form).keys()).map(function(e){return[e,!0]}))),location.hash="",location.reload()})</script>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["content.code.copy", "content.tabs.link"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.81fa17fe.min.js"></script>
      
    
  </body>
</html>